<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Cache method that accommodates environments, S4 methods, Rasters, &amp; nested caching — Cache • reproducible</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Cache method that accommodates environments, S4 methods, Rasters, &amp; nested caching — Cache" />

<meta property="og:description" content="Cache method that accommodates environments, S4 methods, Rasters, &amp;amp; nested caching
The special assign operator %&amp;lt;% is equivalent to Cache. See examples at the end." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-58633549-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-58633549-5');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">reproducible</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/PredictiveEcology/reproducible">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cache method that accommodates environments, S4 methods, Rasters, &amp; nested caching</h1>
    <small class="dont-index">Source: <a href='https://github.com/PredictiveEcology/reproducible/blob/master/R/cache.R'><code>R/cache.R</code></a>, <a href='https://github.com/PredictiveEcology/reproducible/blob/master/R/pipe.R'><code>R/pipe.R</code></a></small>
    <div class="hidden name"><code>cache.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Cache method that accommodates environments, S4 methods, Rasters, &amp; nested caching</p>
<p>The special assign operator <code>%&lt;%</code> is equivalent to Cache. See examples at the end.</p>
    
    </div>

    <pre class="usage"><span class='fu'>Cache</span>(<span class='no'>FUN</span>, <span class='no'>...</span>, <span class='kw'>notOlderThan</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>objects</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>outputObjects</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>algo</span> <span class='kw'>=</span> <span class='st'>"xxhash64"</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>length</span> <span class='kw'>=</span> <span class='fl'>1e+06</span>,
  <span class='no'>compareRasterFileLength</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='fu'>c</span>(), <span class='no'>digestPathContent</span>,
  <span class='kw'>omitArgs</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>classOptions</span> <span class='kw'>=</span> <span class='fu'>list</span>(), <span class='kw'>debugCache</span> <span class='kw'>=</span> <span class='fu'>character</span>(),
  <span class='kw'>sideEffect</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>makeCopy</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>quick</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"reproducible.quick"</span>, <span class='fl'>FALSE</span>),
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"reproducible.verbose"</span>, <span class='fl'>FALSE</span>), <span class='kw'>cacheId</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>useCache</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"reproducible.useCache"</span>, <span class='fl'>TRUE</span>), <span class='kw'>showSimilar</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='co'># S4 method for ANY</span>
<span class='fu'>Cache</span>(<span class='no'>FUN</span>, <span class='no'>...</span>, <span class='kw'>notOlderThan</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>objects</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>outputObjects</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>algo</span> <span class='kw'>=</span> <span class='st'>"xxhash64"</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>length</span> <span class='kw'>=</span> <span class='fl'>1e+06</span>, <span class='no'>compareRasterFileLength</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='fu'>c</span>(),
  <span class='no'>digestPathContent</span>, <span class='kw'>omitArgs</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>classOptions</span> <span class='kw'>=</span> <span class='fu'>list</span>(),
  <span class='kw'>debugCache</span> <span class='kw'>=</span> <span class='fu'>character</span>(), <span class='kw'>sideEffect</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>makeCopy</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>quick</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"reproducible.quick"</span>, <span class='fl'>FALSE</span>),
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"reproducible.verbose"</span>, <span class='fl'>FALSE</span>), <span class='kw'>cacheId</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>useCache</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"reproducible.useCache"</span>, <span class='fl'>TRUE</span>), <span class='kw'>showSimilar</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='no'>lhs</span> <span class='kw'>%&lt;%</span> <span class='no'>rhs</span></pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>FUN</th>
      <td><p>Either a function or an unevaluated function call (e.g., using
<code>quote</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments of <code>FUN</code> function .</p></td>
    </tr>
    <tr>
      <th>notOlderThan</th>
      <td><p>load an artifact from the database only if it was created after notOlderThan.</p></td>
    </tr>
    <tr>
      <th>objects</th>
      <td><p>Character vector of objects to be digested. This is only applicable
if there is a list, environment or simList with named objects
within it. Only this/these objects will be considered for caching,
i.e., only use a subset of
the list, environment or simList objects.</p></td>
    </tr>
    <tr>
      <th>outputObjects</th>
      <td><p>Optional character vector indicating which objects to
return. This is only relevant for <code>simList</code> objects</p></td>
    </tr>
    <tr>
      <th>algo</th>
      <td><p>The algorithms to be used; currently available choices are
    <code>md5</code>, which is also the default, <code>sha1</code>, <code>crc32</code>,
    <code>sha256</code>, <code>sha512</code>, <code>xxhash32</code>, <code>xxhash64</code> and
    <code>murmur32</code>.</p></td>
    </tr>
    <tr>
      <th>cacheRepo</th>
      <td><p>A repository used for storing cached objects.
This is optional if <code>Cache</code> is used inside a SpaDES module.</p></td>
    </tr>
    <tr>
      <th>length</th>
      <td><p>Numeric. If the element passed to Cache is a <code>Path</code> class
object (from e.g., <code>asPath(filename)</code>) or it is a <code>Raster</code> with file-backing, then this will be
passed to <code><a href='http://www.rdocumentation.org/packages/digest/topics/digest'>digest::digest</a></code>, essentially limiting the number of bytes
to digest (for speed). This will only be used if <code>quick = FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>compareRasterFileLength</th>
      <td><p>Being deprecated; use <code>length</code>.</p></td>
    </tr>
    <tr>
      <th>userTags</th>
      <td><p>A character vector with Tags. These Tags will be added to the repository along with the artifact.</p></td>
    </tr>
    <tr>
      <th>digestPathContent</th>
      <td><p>Being deprecated. Use <code>quick</code>.</p></td>
    </tr>
    <tr>
      <th>omitArgs</th>
      <td><p>Optional character string of arguments in the FUN to omit from the digest.</p></td>
    </tr>
    <tr>
      <th>classOptions</th>
      <td><p>Optional list. This will pass into <code>.robustDigest</code> for
specific classes. Should be options that the <code>.robustDigest</code> knows what
to do with.</p></td>
    </tr>
    <tr>
      <th>debugCache</th>
      <td><p>Character or Logical. Either <code>"complete"</code> or <code>"quick"</code> (uses
partial matching, so "c" or "q" work). <code>TRUE</code> is
equivalent to <code>"complete"</code>.
If <code>"complete"</code>, then the returned object from the Cache
function will have two attributes, <code>debugCache1</code> and <code>debugCache2</code>,
which are the entire <code>list(...)</code> and that same object, but after all
<code>.robustDigest</code> calls, at the moment that it is digested using
<code>fastdigest</code>, respectively. This <code>attr(mySimOut, "debugCache2")</code>
can then be compared to a subsequent call and individual items within
the object <code>attr(mySimOut, "debugCache1")</code> can be compared.
If <code>"quick"</code>, then it will return the same two objects directly,
without evalutating the <code>FUN(...)</code>.</p></td>
    </tr>
    <tr>
      <th>sideEffect</th>
      <td><p>Logical or path. Deteremines where the function will look for
new files following function completion. See Details.
<em>NOTE: this argument is experimental and may change in future releases.</em></p></td>
    </tr>
    <tr>
      <th>makeCopy</th>
      <td><p>Logical. If <code>sideEffect = TRUE</code>, and <code>makeCopy = TRUE</code>,
a copy of the downloaded files will be made and stored in the <code>cacheRepo</code>
to speed up subsequent file recovery in the case where the original copy
of the downloaded files are corrupted or missing. Currently only works when
set to <code>TRUE</code> during the first run of <code>Cache</code>. Default is <code>FALSE</code>.
<em>NOTE: this argument is experimental and may change in future releases.</em></p></td>
    </tr>
    <tr>
      <th>quick</th>
      <td><p>Logical. If <code>TRUE</code>,
little or no disk-based information will be assessed, i.e., mostly its
memory content. This is relevant for objects of class
<code>Path</code> and <code>Raster</code> currently.
For class <code>Path</code> objects, the file's metadata (i.e., filename and file size)
will be hashed instead of the file contents. If set to <code>FALSE</code> (default),
the contents of the file(s) are hashed.
If <code>quick = TRUE</code>, <code>length</code> is ignored.
<em>NOTE: this argument is experimental and may change in future releases.</em></p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Logical. This will output much more information about the internals of
Caching, which may help diagnose Caching challenges.</p></td>
    </tr>
    <tr>
      <th>cacheId</th>
      <td><p>Character string. If passed, this will override the calculated hash
of the inputs, and return the result from this cacheId in the cacheRepo.
In general, this is not used; however, in some particularly finicky situations
where Cache is not correctly detecting unchanged inputs, this can stabilize
the return value.</p></td>
    </tr>
    <tr>
      <th>useCache</th>
      <td><p>Logical. If <code>FALSE</code>, then the entire Caching mechanism is bypassed
and the function is evaluated as if it was not being Cached.
Default is <code>getOption("reproducible.useCache")</code>),
which is <code>FALSE</code> by default, meaning use the Cache mechanism. This
may be useful to turn all Caching on or off in very complex scripts and
nested functions.</p></td>
    </tr>
    <tr>
      <th>showSimilar</th>
      <td><p>A logical or numeric. Useful for debugging.
If <code>TRUE</code> or <code>1</code>, then if the Cache
does not find an identical archive in the cacheRepo, it will report (via message)
the next most similar archive, and indicate which argument(s) is/are different.
If a number larger than <code>1</code>, then it will report the N most similar archived
objects.</p></td>
    </tr>
    <tr>
      <th>lhs</th>
      <td><p>A name to assign to.</p></td>
    </tr>
    <tr>
      <th>rhs</th>
      <td><p>A function call</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>As with <code><a href='http://www.rdocumentation.org/packages/archivist/topics/cache'>cache</a></code>, returns the value of the
function call or the cached version (i.e., the result from a previous call
to this same cached function with identical arguments).</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Caching R objects using <code><a href='http://www.rdocumentation.org/packages/archivist/topics/cache'>cache</a></code> has five important limitations:</p><ol>
<li><p>the <code>archivist</code> package detects different environments as different;</p></li>
<li><p>it also does not detect S4 methods correctly due to method inheritance;</p></li>
<li><p>it does not detect objects that have file-base storage of information
        (specifically <code><a href='http://www.rdocumentation.org/packages/raster/topics/Raster-classes'>RasterLayer-class</a></code> objects);</p></li>
<li><p>the default hashing algorithm is relatively slow.</p></li>
<li><p>heavily nested function calls may want Cache arguments to propagate through</p></li>
</ol><p>This version of the <code>Cache</code> function accommodates those four special,
though quite common, cases by:</p><ol>
<li><p>converting any environments into list equivalents;</p></li>
<li><p>identifying the dispatched S4 method (including those made through
        inheritance) before hashing so the correct method is being cached;</p></li>
<li><p>by hashing the linked file, rather than the Raster object.
        Currently, only file-backed <code>Raster*</code> objects are digested
        (e.g., not <code>ff</code> objects, or any other R object where the data
        are on disk instead of in RAM);</p></li>
<li><p>using <code><a href='http://www.rdocumentation.org/packages/fastdigest/topics/fastdigest'>fastdigest</a></code> internally when the object
        is in RAM, which can be up to ten times faster than
        <code><a href='http://www.rdocumentation.org/packages/digest/topics/digest'>digest</a></code>. Note that file-backed objects are still
        hashed using <code><a href='http://www.rdocumentation.org/packages/digest/topics/digest'>digest</a></code>.</p></li>
<li><p>Cache will save arguments passed by user in a hidden environment. Any
        nested Cache functions will use arguments in this order 1) actual arguments
        passed at each Cache call, 2) any inherited arguments from an outer Cache
        call, 3) the default values of the Cache function. See section on <em>Nested
        Caching</em>.</p></li>
</ol>
    <p>If <code>Cache</code> is called within a SpaDES module, then the cached entry will automatically
get 3 extra <code>userTags</code>: <code>eventTime</code>, <code>eventType</code>, and <code>moduleName</code>.
These can then be used in <code>clearCache</code> to selectively remove cached objects
by <code>eventTime</code>, <code>eventType</code> or <code>moduleName</code>.</p>
<p><code>Cache</code> will add a tag to the artifact in the database called <code>accessed</code>,
which will assign the time that it was accessed, either read or write.
That way, artifacts can be shown (using <code>showCache</code>) or removed (using
<code>clearCache</code>) selectively, based on their access dates, rather than only
by their creation dates. See example in <code><a href='viewCache.html'>clearCache</a></code>.
<code>Cache</code> (uppercase C) is used here so that it is not confused with, and does
not mask, the <code><a href='http://www.rdocumentation.org/packages/archivist/topics/cache'>archivist::cache</a></code> function.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>As indicated above, several objects require pre-treatment before
caching will work as expected. The function <code>.robustDigest</code> accommodates this.
It is an S4 generic, meaning that developers can produce their own methods for
different classes of objects. Currently, there are methods for several types
of classes. See <code><a href='robustDigest.html'>.robustDigest</a></code>.</p>
<p>See <code><a href='robustDigest.html'>.robustDigest</a></code> for other specifics for other classes.</p>
    
    <h2 class="hasAnchor" id="nested-caching"><a class="anchor" href="#nested-caching"></a>Nested Caching</h2>

    
    <p>Commonly, Caching is nested, i.e., an outer function is wrapped in a <code>Cache</code>
function call, and one or more inner functions are also wrapped in a <code>Cache</code>
function call. A user <em>can</em> always specify arguments in every Cache function
call, but this can get tedious and can be prone to errors. The normal way that
<em>R</em> handles arguments is it takes the user passed arguments if any, and
default arguments for all those that have no user passed arguments. We have inserted
a middle step. The order or precedence for any given <code>Cache</code> function call is
1. user arguments, 2. inherited arguments, 3. default arguments. At this time,
the top level <code>Cache</code> arguments will propagate to all inner functions unless
each individual <code>Cache</code> call has other arguments specified, i.e., "middle"
nested <code>Cache</code> function calls don't propagate their arguments to further "inner"
<code>Cache</code> function calls.  See example.</p>
<p><code>userTags</code> is unique of all arguments: its values will be appended to the
inherited <code>userTags</code>.</p>
    
    <h2 class="hasAnchor" id="caching-speed"><a class="anchor" href="#caching-speed"></a>Caching Speed</h2>

    
    <p>Caching speed may become a critical aspect of a final product. For example,
if the final product is a shiny app, rerunning the entire project may need
to take less then a few seconds at most. There are 3 arguments that affect
Cache speed: <code>quick</code>, <code>length</code>, and
<code>algo</code>. <code>quick</code> is passed to <code>.robustDigest</code>, which currently
only affects <code>Path</code> and <code>Raster*</code> class objects. In both cases, <code>quick</code>
means that little or no disk-based information will be assessed.</p>
    
    <h2 class="hasAnchor" id="filepaths"><a class="anchor" href="#filepaths"></a>Filepaths</h2>

    
    <p>If a function has a path argument, there is some ambiguity about what should be
done. Possibilities include:</p><ol>
<li><p>hash the string as is (this will be very system specific, meaning a
        <code>Cache</code> call will not work if copied between systems or directories);</p></li>
<li><p>hash the <code>basename(path)</code>;</p></li>
<li><p>hash the contents of the file.</p></li>
</ol><p>If paths are passed in as is (i.e,. character string), the result will not be predictable.
Instead, one should use the wrapper function <code>asPath(path)</code>, which sets the
class of the string to a <code>Path</code>, and one should decide whether one wants
to digest the content of the file (using <code>quick = FALSE</code>),
or just the filename (<code>(quick = TRUE)</code>). See examples.</p>
    
    <h2 class="hasAnchor" id="stochasticity"><a class="anchor" href="#stochasticity"></a>Stochasticity</h2>

    
    <p>In general, it is expected that caching will only be used when stochasticity
is not relevant, or if a user has achieved sufficient stochasticity (e.g., via
sufficient number of calls to <code>experiment</code>) such that no new explorations
of stochastic outcomes are required. It will also be very useful in a
reproducible workflow.</p>
    
    <h2 class="hasAnchor" id="sideeffect"><a class="anchor" href="#sideeffect"></a><code>sideEffect</code></h2>

    
    <p>If <code>sideEffect</code> is not <code>FALSE</code>, then metadata about any files that
added to <code>sideEffect</code> will be added as an attribute to the cached copy.
Subsequent calls to this function
       will assess for the presence of the new files in the <code>sideEffect</code> location.
       If the files are identical (<code>quick = FALSE</code>) or their file size is
       identical (<code>quick = TRUE</code>), then the cached copy of the function will
       be returned (and no files changed). If there are missing or incorrect files,
       then the function will re-run. This will accommodate the situation where the
       function call is identical, but somehow the side effect files were modified.
       If <code>sideEffect</code> is logical, then the function will check the
       <code>cacheRepo</code>; if it is a path, then it will check the path. The function will
       assess whether the files to be downloaded are found locally
       prior to download. If it fails the local test, then it will try to recover from a
       local copy if (<code>makeCopy</code> had been set to <code>TRUE</code> the first time
       the function was run. Currently, local recovery will only work if<code>makeCOpy</code> was
       set to <code>TRUE</code> the first time <code>Cache</code>
       was run). Default is <code>FALSE</code>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='http://www.rdocumentation.org/packages/archivist/topics/cache'>cache</a></code>, <code><a href='robustDigest.html'>.robustDigest</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>library</span>(<span class='no'>raster</span>)</div><div class='output co'>#&gt; <span class='message'>Loading required package: sp</span></div><div class='input'><span class='co'># magrittr, if loaded, gives an error below</span>
  <span class='fu'>try</span>(<span class='fu'>detach</span>(<span class='st'>"package:magrittr"</span>, <span class='kw'>unload</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>), <span class='kw'>silent</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='no'>tmpDir</span> <span class='kw'>&lt;-</span> <span class='fu'>file.path</span>(<span class='fu'>tempdir</span>(), <span class='st'>"reproducible_examples"</span>, <span class='st'>"Cache"</span>)
<span class='fu'>try</span>(<span class='fu'><a href='viewCache.html'>clearCache</a></span>(<span class='no'>tmpDir</span>), <span class='kw'>silent</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>) <span class='co'># just to make sure it is clear</span>

<span class='co'># Basic use</span>
<span class='no'>ranNumsA</span> <span class='kw'>&lt;-</span> <span class='fu'>Cache</span>(<span class='no'>rnorm</span>, <span class='fl'>10</span>, <span class='fl'>16</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>)

<span class='co'># All same</span>
<span class='no'>ranNumsB</span> <span class='kw'>&lt;-</span> <span class='fu'>Cache</span>(<span class='no'>rnorm</span>, <span class='fl'>10</span>, <span class='fl'>16</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>) <span class='co'># recovers cached copy</span></div><div class='output co'>#&gt; <span class='message'>  loading cached result from previous rnorm call, adding to memoised copy</span></div><div class='input'><span class='no'>ranNumsC</span> <span class='kw'>&lt;-</span> <span class='fu'>rnorm</span>(<span class='fl'>10</span>, <span class='fl'>16</span>) <span class='kw'>%&gt;%</span> <span class='fu'>Cache</span>(<span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>) <span class='co'># recovers cached copy</span></div><div class='output co'>#&gt; <span class='message'>  loading memoised result from previous 'rnorm' pipe sequence call.</span></div><div class='input'><span class='no'>ranNumsD</span> <span class='kw'>&lt;-</span> <span class='fu'>Cache</span>(<span class='fu'>quote</span>(<span class='fu'>rnorm</span>(<span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='fl'>16</span>)), <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>) <span class='co'># recovers cached copy</span></div><div class='output co'>#&gt; <span class='message'>  loading memoised result from previous rnorm call.</span></div><div class='input'>
<span class='co'># Any minor change makes it different</span>
<span class='no'>ranNumsE</span> <span class='kw'>&lt;-</span> <span class='fu'>rnorm</span>(<span class='fl'>10</span>, <span class='fl'>6</span>) <span class='kw'>%&gt;%</span> <span class='fu'>Cache</span>(<span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>) <span class='co'># different</span>

<span class='co'>## Example 1: basic cache use with tags</span>
<span class='no'>ranNumsA</span> <span class='kw'>&lt;-</span> <span class='fu'>Cache</span>(<span class='no'>rnorm</span>, <span class='fl'>4</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='st'>"objectName:a"</span>)
<span class='no'>ranNumsB</span> <span class='kw'>&lt;-</span> <span class='fu'>Cache</span>(<span class='no'>runif</span>, <span class='fl'>4</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='st'>"objectName:b"</span>)

<span class='fu'><a href='viewCache.html'>showCache</a></span>(<span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"objectName"</span>))</div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 20.8 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 338 bytes</span></div><div class='output co'>#&gt;                             artifact         tagKey
#&gt;  1: 37df99c717de3dba297e951df63ef607         format
#&gt;  2: 37df99c717de3dba297e951df63ef607           name
#&gt;  3: 37df99c717de3dba297e951df63ef607          class
#&gt;  4: 37df99c717de3dba297e951df63ef607           date
#&gt;  5: 37df99c717de3dba297e951df63ef607        cacheId
#&gt;  6: 37df99c717de3dba297e951df63ef607     objectName
#&gt;  7: 37df99c717de3dba297e951df63ef607       function
#&gt;  8: 37df99c717de3dba297e951df63ef607    object.size
#&gt;  9: 37df99c717de3dba297e951df63ef607       accessed
#&gt; 10: 37df99c717de3dba297e951df63ef607 otherFunctions
#&gt; 11: 37df99c717de3dba297e951df63ef607 otherFunctions
#&gt; 12: 37df99c717de3dba297e951df63ef607 otherFunctions
#&gt; 13: 37df99c717de3dba297e951df63ef607 otherFunctions
#&gt; 14: 37df99c717de3dba297e951df63ef607 otherFunctions
#&gt; 15: 37df99c717de3dba297e951df63ef607 otherFunctions
#&gt; 16: 37df99c717de3dba297e951df63ef607 otherFunctions
#&gt; 17: 37df99c717de3dba297e951df63ef607      preDigest
#&gt; 18: 37df99c717de3dba297e951df63ef607      preDigest
#&gt; 19: 947244c5101ba95a63e3fdf77115b483         format
#&gt; 20: 947244c5101ba95a63e3fdf77115b483           name
#&gt; 21: 947244c5101ba95a63e3fdf77115b483          class
#&gt; 22: 947244c5101ba95a63e3fdf77115b483           date
#&gt; 23: 947244c5101ba95a63e3fdf77115b483        cacheId
#&gt; 24: 947244c5101ba95a63e3fdf77115b483     objectName
#&gt; 25: 947244c5101ba95a63e3fdf77115b483       function
#&gt; 26: 947244c5101ba95a63e3fdf77115b483    object.size
#&gt; 27: 947244c5101ba95a63e3fdf77115b483       accessed
#&gt; 28: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 29: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 30: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 31: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 32: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 33: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 34: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 35: 947244c5101ba95a63e3fdf77115b483      preDigest
#&gt; 36: 947244c5101ba95a63e3fdf77115b483      preDigest
#&gt;                             artifact         tagKey
#&gt;                                  tagValue         createdDate
#&gt;  1:                                   rda 2018-06-12 16:09:40
#&gt;  2:                                 Cache 2018-06-12 16:09:40
#&gt;  3:                               numeric 2018-06-12 16:09:40
#&gt;  4:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt;  5:      e37bb635c97bc2eeecab63816b881bbc 2018-06-12 16:09:40
#&gt;  6:                                     b 2018-06-12 16:09:40
#&gt;  7:                                 runif 2018-06-12 16:09:40
#&gt;  8:                                   688 2018-06-12 16:09:40
#&gt;  9:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt; 10:                   withCallingHandlers 2018-06-12 16:09:40
#&gt; 11:                               saveRDS 2018-06-12 16:09:40
#&gt; 12:                               do.call 2018-06-12 16:09:40
#&gt; 13:                      build_site_local 2018-06-12 16:09:40
#&gt; 14:                       build_reference 2018-06-12 16:09:40
#&gt; 15:                  data_reference_topic 2018-06-12 16:09:40
#&gt; 16:                                   try 2018-06-12 16:09:40
#&gt; 17:    n:969a49ec15bcd4323ff31538af321264 2018-06-12 16:09:40
#&gt; 18: .FUN:d2631d24c3b38b89c7bdd4ab7faaaac3 2018-06-12 16:09:40
#&gt; 19:                                   rda 2018-06-12 16:09:40
#&gt; 20:                                 Cache 2018-06-12 16:09:40
#&gt; 21:                               numeric 2018-06-12 16:09:40
#&gt; 22:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt; 23:      85874f26b2e0c1ef689a7d379d275ebf 2018-06-12 16:09:40
#&gt; 24:                                     a 2018-06-12 16:09:40
#&gt; 25:                                 rnorm 2018-06-12 16:09:40
#&gt; 26:                                   688 2018-06-12 16:09:40
#&gt; 27:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt; 28:                   withCallingHandlers 2018-06-12 16:09:40
#&gt; 29:                               saveRDS 2018-06-12 16:09:40
#&gt; 30:                               do.call 2018-06-12 16:09:40
#&gt; 31:                      build_site_local 2018-06-12 16:09:40
#&gt; 32:                       build_reference 2018-06-12 16:09:40
#&gt; 33:                  data_reference_topic 2018-06-12 16:09:40
#&gt; 34:                                   try 2018-06-12 16:09:40
#&gt; 35:    n:969a49ec15bcd4323ff31538af321264 2018-06-12 16:09:40
#&gt; 36: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-06-12 16:09:40
#&gt;                                  tagValue         createdDate</div><div class='input'><span class='fu'><a href='viewCache.html'>showCache</a></span>(<span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"^a$"</span>)) <span class='co'># regular expression ... "a" exactly</span></div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 20.8 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 172 bytes</span></div><div class='output co'>#&gt;                             artifact         tagKey
#&gt;  1: 947244c5101ba95a63e3fdf77115b483         format
#&gt;  2: 947244c5101ba95a63e3fdf77115b483           name
#&gt;  3: 947244c5101ba95a63e3fdf77115b483          class
#&gt;  4: 947244c5101ba95a63e3fdf77115b483           date
#&gt;  5: 947244c5101ba95a63e3fdf77115b483        cacheId
#&gt;  6: 947244c5101ba95a63e3fdf77115b483     objectName
#&gt;  7: 947244c5101ba95a63e3fdf77115b483       function
#&gt;  8: 947244c5101ba95a63e3fdf77115b483    object.size
#&gt;  9: 947244c5101ba95a63e3fdf77115b483       accessed
#&gt; 10: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 11: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 12: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 13: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 14: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 15: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 16: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 17: 947244c5101ba95a63e3fdf77115b483      preDigest
#&gt; 18: 947244c5101ba95a63e3fdf77115b483      preDigest
#&gt;                                  tagValue         createdDate
#&gt;  1:                                   rda 2018-06-12 16:09:40
#&gt;  2:                                 Cache 2018-06-12 16:09:40
#&gt;  3:                               numeric 2018-06-12 16:09:40
#&gt;  4:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt;  5:      85874f26b2e0c1ef689a7d379d275ebf 2018-06-12 16:09:40
#&gt;  6:                                     a 2018-06-12 16:09:40
#&gt;  7:                                 rnorm 2018-06-12 16:09:40
#&gt;  8:                                   688 2018-06-12 16:09:40
#&gt;  9:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt; 10:                   withCallingHandlers 2018-06-12 16:09:40
#&gt; 11:                               saveRDS 2018-06-12 16:09:40
#&gt; 12:                               do.call 2018-06-12 16:09:40
#&gt; 13:                      build_site_local 2018-06-12 16:09:40
#&gt; 14:                       build_reference 2018-06-12 16:09:40
#&gt; 15:                  data_reference_topic 2018-06-12 16:09:40
#&gt; 16:                                   try 2018-06-12 16:09:40
#&gt; 17:    n:969a49ec15bcd4323ff31538af321264 2018-06-12 16:09:40
#&gt; 18: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-06-12 16:09:40</div><div class='input'><span class='fu'><a href='viewCache.html'>showCache</a></span>(<span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"runif"</span>)) <span class='co'># show only cached objects made during runif call</span></div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 20.8 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 166 bytes</span></div><div class='output co'>#&gt;                             artifact         tagKey
#&gt;  1: 37df99c717de3dba297e951df63ef607         format
#&gt;  2: 37df99c717de3dba297e951df63ef607           name
#&gt;  3: 37df99c717de3dba297e951df63ef607          class
#&gt;  4: 37df99c717de3dba297e951df63ef607           date
#&gt;  5: 37df99c717de3dba297e951df63ef607        cacheId
#&gt;  6: 37df99c717de3dba297e951df63ef607     objectName
#&gt;  7: 37df99c717de3dba297e951df63ef607       function
#&gt;  8: 37df99c717de3dba297e951df63ef607    object.size
#&gt;  9: 37df99c717de3dba297e951df63ef607       accessed
#&gt; 10: 37df99c717de3dba297e951df63ef607 otherFunctions
#&gt; 11: 37df99c717de3dba297e951df63ef607 otherFunctions
#&gt; 12: 37df99c717de3dba297e951df63ef607 otherFunctions
#&gt; 13: 37df99c717de3dba297e951df63ef607 otherFunctions
#&gt; 14: 37df99c717de3dba297e951df63ef607 otherFunctions
#&gt; 15: 37df99c717de3dba297e951df63ef607 otherFunctions
#&gt; 16: 37df99c717de3dba297e951df63ef607 otherFunctions
#&gt; 17: 37df99c717de3dba297e951df63ef607      preDigest
#&gt; 18: 37df99c717de3dba297e951df63ef607      preDigest
#&gt;                                  tagValue         createdDate
#&gt;  1:                                   rda 2018-06-12 16:09:40
#&gt;  2:                                 Cache 2018-06-12 16:09:40
#&gt;  3:                               numeric 2018-06-12 16:09:40
#&gt;  4:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt;  5:      e37bb635c97bc2eeecab63816b881bbc 2018-06-12 16:09:40
#&gt;  6:                                     b 2018-06-12 16:09:40
#&gt;  7:                                 runif 2018-06-12 16:09:40
#&gt;  8:                                   688 2018-06-12 16:09:40
#&gt;  9:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt; 10:                   withCallingHandlers 2018-06-12 16:09:40
#&gt; 11:                               saveRDS 2018-06-12 16:09:40
#&gt; 12:                               do.call 2018-06-12 16:09:40
#&gt; 13:                      build_site_local 2018-06-12 16:09:40
#&gt; 14:                       build_reference 2018-06-12 16:09:40
#&gt; 15:                  data_reference_topic 2018-06-12 16:09:40
#&gt; 16:                                   try 2018-06-12 16:09:40
#&gt; 17:    n:969a49ec15bcd4323ff31538af321264 2018-06-12 16:09:40
#&gt; 18: .FUN:d2631d24c3b38b89c7bdd4ab7faaaac3 2018-06-12 16:09:40</div><div class='input'>
<span class='fu'><a href='viewCache.html'>clearCache</a></span>(<span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"runif"</span>)) <span class='co'># remove only cached objects made during runif call</span></div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 20.8 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 166 bytes</span></div><div class='input'><span class='fu'><a href='viewCache.html'>showCache</a></span>(<span class='no'>tmpDir</span>) <span class='co'># only those made during rnorm call</span></div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 20.6 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 617 bytes</span></div><div class='output co'>#&gt;                             artifact         tagKey
#&gt;  1: 1d0ddf4444f6fbce857f1b5184e1faf4         format
#&gt;  2: 1d0ddf4444f6fbce857f1b5184e1faf4           name
#&gt;  3: 1d0ddf4444f6fbce857f1b5184e1faf4          class
#&gt;  4: 1d0ddf4444f6fbce857f1b5184e1faf4           date
#&gt;  5: 1d0ddf4444f6fbce857f1b5184e1faf4        cacheId
#&gt;  6: 1d0ddf4444f6fbce857f1b5184e1faf4       function
#&gt;  7: 1d0ddf4444f6fbce857f1b5184e1faf4    object.size
#&gt;  8: 1d0ddf4444f6fbce857f1b5184e1faf4       accessed
#&gt;  9: 1d0ddf4444f6fbce857f1b5184e1faf4 otherFunctions
#&gt; 10: 1d0ddf4444f6fbce857f1b5184e1faf4 otherFunctions
#&gt; 11: 1d0ddf4444f6fbce857f1b5184e1faf4 otherFunctions
#&gt; 12: 1d0ddf4444f6fbce857f1b5184e1faf4 otherFunctions
#&gt; 13: 1d0ddf4444f6fbce857f1b5184e1faf4 otherFunctions
#&gt; 14: 1d0ddf4444f6fbce857f1b5184e1faf4 otherFunctions
#&gt; 15: 1d0ddf4444f6fbce857f1b5184e1faf4 otherFunctions
#&gt; 16: 1d0ddf4444f6fbce857f1b5184e1faf4      preDigest
#&gt; 17: 1d0ddf4444f6fbce857f1b5184e1faf4      preDigest
#&gt; 18: 1d0ddf4444f6fbce857f1b5184e1faf4      preDigest
#&gt; 19: 1d0ddf4444f6fbce857f1b5184e1faf4       accessed
#&gt; 20: 1d0ddf4444f6fbce857f1b5184e1faf4       accessed
#&gt; 21: 1d0ddf4444f6fbce857f1b5184e1faf4       accessed
#&gt; 22: 8b6f9a59b41785f2deed629516b10470         format
#&gt; 23: 8b6f9a59b41785f2deed629516b10470           name
#&gt; 24: 8b6f9a59b41785f2deed629516b10470          class
#&gt; 25: 8b6f9a59b41785f2deed629516b10470           date
#&gt; 26: 8b6f9a59b41785f2deed629516b10470        cacheId
#&gt; 27: 8b6f9a59b41785f2deed629516b10470       function
#&gt; 28: 8b6f9a59b41785f2deed629516b10470    object.size
#&gt; 29: 8b6f9a59b41785f2deed629516b10470       accessed
#&gt; 30: 8b6f9a59b41785f2deed629516b10470 otherFunctions
#&gt; 31: 8b6f9a59b41785f2deed629516b10470 otherFunctions
#&gt; 32: 8b6f9a59b41785f2deed629516b10470 otherFunctions
#&gt; 33: 8b6f9a59b41785f2deed629516b10470 otherFunctions
#&gt; 34: 8b6f9a59b41785f2deed629516b10470 otherFunctions
#&gt; 35: 8b6f9a59b41785f2deed629516b10470 otherFunctions
#&gt; 36: 8b6f9a59b41785f2deed629516b10470 otherFunctions
#&gt; 37: 8b6f9a59b41785f2deed629516b10470      preDigest
#&gt; 38: 8b6f9a59b41785f2deed629516b10470      preDigest
#&gt; 39: 8b6f9a59b41785f2deed629516b10470      preDigest
#&gt; 40: 947244c5101ba95a63e3fdf77115b483         format
#&gt; 41: 947244c5101ba95a63e3fdf77115b483           name
#&gt; 42: 947244c5101ba95a63e3fdf77115b483          class
#&gt; 43: 947244c5101ba95a63e3fdf77115b483           date
#&gt; 44: 947244c5101ba95a63e3fdf77115b483        cacheId
#&gt; 45: 947244c5101ba95a63e3fdf77115b483     objectName
#&gt; 46: 947244c5101ba95a63e3fdf77115b483       function
#&gt; 47: 947244c5101ba95a63e3fdf77115b483    object.size
#&gt; 48: 947244c5101ba95a63e3fdf77115b483       accessed
#&gt; 49: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 50: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 51: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 52: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 53: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 54: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 55: 947244c5101ba95a63e3fdf77115b483 otherFunctions
#&gt; 56: 947244c5101ba95a63e3fdf77115b483      preDigest
#&gt; 57: 947244c5101ba95a63e3fdf77115b483      preDigest
#&gt;                             artifact         tagKey
#&gt;                                  tagValue         createdDate
#&gt;  1:                                   rda 2018-06-12 16:09:40
#&gt;  2:                                 Cache 2018-06-12 16:09:40
#&gt;  3:                               numeric 2018-06-12 16:09:40
#&gt;  4:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt;  5:      f185e4f8cea576a595f7b81be17e63b5 2018-06-12 16:09:40
#&gt;  6:                                 rnorm 2018-06-12 16:09:40
#&gt;  7:                                   784 2018-06-12 16:09:40
#&gt;  8:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt;  9:                   withCallingHandlers 2018-06-12 16:09:40
#&gt; 10:                               saveRDS 2018-06-12 16:09:40
#&gt; 11:                               do.call 2018-06-12 16:09:40
#&gt; 12:                      build_site_local 2018-06-12 16:09:40
#&gt; 13:                       build_reference 2018-06-12 16:09:40
#&gt; 14:                  data_reference_topic 2018-06-12 16:09:40
#&gt; 15:                                   try 2018-06-12 16:09:40
#&gt; 16:    n:52ad08b1270ae9be9c0a12805d408433 2018-06-12 16:09:40
#&gt; 17: mean:2c67b8e97ab3ea8d032fea4318223887 2018-06-12 16:09:40
#&gt; 18: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-06-12 16:09:40
#&gt; 19:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt; 20:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt; 21:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt; 22:                                   rda 2018-06-12 16:09:40
#&gt; 23:                                 Cache 2018-06-12 16:09:40
#&gt; 24:                               numeric 2018-06-12 16:09:40
#&gt; 25:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt; 26:      778e2e6b9a967175d1f08811a995269d 2018-06-12 16:09:40
#&gt; 27:                   rnorm pipe sequence 2018-06-12 16:09:40
#&gt; 28:                                   784 2018-06-12 16:09:40
#&gt; 29:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt; 30:                   withCallingHandlers 2018-06-12 16:09:40
#&gt; 31:                               saveRDS 2018-06-12 16:09:40
#&gt; 32:                               do.call 2018-06-12 16:09:40
#&gt; 33:                      build_site_local 2018-06-12 16:09:40
#&gt; 34:                       build_reference 2018-06-12 16:09:40
#&gt; 35:                  data_reference_topic 2018-06-12 16:09:40
#&gt; 36:                                   try 2018-06-12 16:09:40
#&gt; 37:    n:52ad08b1270ae9be9c0a12805d408433 2018-06-12 16:09:40
#&gt; 38: mean:6f529546a7c8cf6edda6081007b3d58d 2018-06-12 16:09:40
#&gt; 39: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-06-12 16:09:40
#&gt; 40:                                   rda 2018-06-12 16:09:40
#&gt; 41:                                 Cache 2018-06-12 16:09:40
#&gt; 42:                               numeric 2018-06-12 16:09:40
#&gt; 43:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt; 44:      85874f26b2e0c1ef689a7d379d275ebf 2018-06-12 16:09:40
#&gt; 45:                                     a 2018-06-12 16:09:40
#&gt; 46:                                 rnorm 2018-06-12 16:09:40
#&gt; 47:                                   688 2018-06-12 16:09:40
#&gt; 48:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt; 49:                   withCallingHandlers 2018-06-12 16:09:40
#&gt; 50:                               saveRDS 2018-06-12 16:09:40
#&gt; 51:                               do.call 2018-06-12 16:09:40
#&gt; 52:                      build_site_local 2018-06-12 16:09:40
#&gt; 53:                       build_reference 2018-06-12 16:09:40
#&gt; 54:                  data_reference_topic 2018-06-12 16:09:40
#&gt; 55:                                   try 2018-06-12 16:09:40
#&gt; 56:    n:969a49ec15bcd4323ff31538af321264 2018-06-12 16:09:40
#&gt; 57: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-06-12 16:09:40
#&gt;                                  tagValue         createdDate</div><div class='input'>
<span class='fu'><a href='viewCache.html'>clearCache</a></span>(<span class='no'>tmpDir</span>)

<span class='co'>## Example 2: using the "accessed" tag</span>
<span class='no'>ranNumsA</span> <span class='kw'>&lt;-</span> <span class='fu'>Cache</span>(<span class='no'>rnorm</span>, <span class='fl'>4</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='st'>"objectName:a"</span>)
<span class='no'>ranNumsB</span> <span class='kw'>&lt;-</span> <span class='fu'>Cache</span>(<span class='no'>runif</span>, <span class='fl'>4</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='st'>"objectName:b"</span>)

<span class='co'># access it again, from Cache</span>
<span class='no'>ranNumsA</span> <span class='kw'>&lt;-</span> <span class='fu'>Cache</span>(<span class='no'>rnorm</span>, <span class='fl'>4</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='st'>"objectName:a"</span>)</div><div class='output co'>#&gt; <span class='message'>  loading cached result from previous rnorm call, adding to memoised copy</span></div><div class='input'><span class='no'>wholeCache</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='viewCache.html'>showCache</a></span>(<span class='no'>tmpDir</span>)</div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 12.3 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 336 bytes</span></div><div class='input'>
<span class='co'># keep only items accessed "recently" (i.e., only objectName:a)</span>
<span class='no'>onlyRecentlyAccessed</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='viewCache.html'>showCache</a></span>(<span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='fu'>max</span>(<span class='no'>wholeCache</span>[<span class='no'>tagKey</span> <span class='kw'>==</span> <span class='st'>"accessed"</span>]$<span class='no'>tagValue</span>))</div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 12.3 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 172 bytes</span></div><div class='input'>
<span class='co'># inverse join with 2 data.tables ... using: a[!b]</span>
<span class='co'># i.e., return all of wholeCache that was not recently accessed</span>
<span class='no'>toRemove</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/unique'>unique</a></span>(<span class='no'>wholeCache</span>[!<span class='no'>onlyRecentlyAccessed</span>], <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"artifact"</span>)$<span class='no'>artifact</span>
<span class='fu'><a href='viewCache.html'>clearCache</a></span>(<span class='no'>tmpDir</span>, <span class='no'>toRemove</span>) <span class='co'># remove ones not recently accessed</span></div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 12.3 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 164 bytes</span></div><div class='input'><span class='fu'><a href='viewCache.html'>showCache</a></span>(<span class='no'>tmpDir</span>) <span class='co'># still has more recently accessed</span></div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 12.2 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 172 bytes</span></div><div class='output co'>#&gt;                             artifact         tagKey
#&gt;  1: 63552621cff2e955859fa817c884b9a3         format
#&gt;  2: 63552621cff2e955859fa817c884b9a3           name
#&gt;  3: 63552621cff2e955859fa817c884b9a3          class
#&gt;  4: 63552621cff2e955859fa817c884b9a3           date
#&gt;  5: 63552621cff2e955859fa817c884b9a3        cacheId
#&gt;  6: 63552621cff2e955859fa817c884b9a3     objectName
#&gt;  7: 63552621cff2e955859fa817c884b9a3       function
#&gt;  8: 63552621cff2e955859fa817c884b9a3    object.size
#&gt;  9: 63552621cff2e955859fa817c884b9a3       accessed
#&gt; 10: 63552621cff2e955859fa817c884b9a3 otherFunctions
#&gt; 11: 63552621cff2e955859fa817c884b9a3 otherFunctions
#&gt; 12: 63552621cff2e955859fa817c884b9a3 otherFunctions
#&gt; 13: 63552621cff2e955859fa817c884b9a3 otherFunctions
#&gt; 14: 63552621cff2e955859fa817c884b9a3 otherFunctions
#&gt; 15: 63552621cff2e955859fa817c884b9a3 otherFunctions
#&gt; 16: 63552621cff2e955859fa817c884b9a3 otherFunctions
#&gt; 17: 63552621cff2e955859fa817c884b9a3      preDigest
#&gt; 18: 63552621cff2e955859fa817c884b9a3      preDigest
#&gt; 19: 63552621cff2e955859fa817c884b9a3       accessed
#&gt;                                  tagValue         createdDate
#&gt;  1:                                   rda 2018-06-12 16:09:40
#&gt;  2:                                 Cache 2018-06-12 16:09:40
#&gt;  3:                               numeric 2018-06-12 16:09:40
#&gt;  4:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt;  5:      85874f26b2e0c1ef689a7d379d275ebf 2018-06-12 16:09:40
#&gt;  6:                                     a 2018-06-12 16:09:40
#&gt;  7:                                 rnorm 2018-06-12 16:09:40
#&gt;  8:                                   688 2018-06-12 16:09:40
#&gt;  9:                   2018-06-12 16:09:40 2018-06-12 16:09:40
#&gt; 10:                   withCallingHandlers 2018-06-12 16:09:40
#&gt; 11:                               saveRDS 2018-06-12 16:09:40
#&gt; 12:                               do.call 2018-06-12 16:09:40
#&gt; 13:                      build_site_local 2018-06-12 16:09:40
#&gt; 14:                       build_reference 2018-06-12 16:09:40
#&gt; 15:                  data_reference_topic 2018-06-12 16:09:40
#&gt; 16:                                   try 2018-06-12 16:09:40
#&gt; 17:    n:969a49ec15bcd4323ff31538af321264 2018-06-12 16:09:40
#&gt; 18: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-06-12 16:09:40
#&gt; 19:                   2018-06-12 16:09:41 2018-06-12 16:09:41</div><div class='input'>
<span class='fu'><a href='viewCache.html'>clearCache</a></span>(<span class='no'>tmpDir</span>)

<span class='co'>## Example 3: using keepCache</span>
<span class='no'>ranNumsA</span> <span class='kw'>&lt;-</span> <span class='fu'>Cache</span>(<span class='no'>rnorm</span>, <span class='fl'>4</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='st'>"objectName:a"</span>)
<span class='no'>ranNumsB</span> <span class='kw'>&lt;-</span> <span class='fu'>Cache</span>(<span class='no'>runif</span>, <span class='fl'>4</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='st'>"objectName:b"</span>)

<span class='co'># keep only those cached items from the last 24 hours</span>
<span class='no'>oneDay</span> <span class='kw'>&lt;-</span> <span class='fl'>60</span> * <span class='fl'>60</span> * <span class='fl'>24</span>
<span class='fu'><a href='viewCache.html'>keepCache</a></span>(<span class='no'>tmpDir</span>, <span class='kw'>after</span> <span class='kw'>=</span> <span class='fu'>Sys.time</span>() - <span class='no'>oneDay</span>)</div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 12.3 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 337 bytes</span></div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 12.3 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 337 bytes</span></div><div class='output co'>#&gt;                             artifact         tagKey
#&gt;  1: 174e050690bf5b732939facdfbc52821         format
#&gt;  2: 174e050690bf5b732939facdfbc52821           name
#&gt;  3: 174e050690bf5b732939facdfbc52821          class
#&gt;  4: 174e050690bf5b732939facdfbc52821           date
#&gt;  5: 174e050690bf5b732939facdfbc52821        cacheId
#&gt;  6: 174e050690bf5b732939facdfbc52821     objectName
#&gt;  7: 174e050690bf5b732939facdfbc52821       function
#&gt;  8: 174e050690bf5b732939facdfbc52821    object.size
#&gt;  9: 174e050690bf5b732939facdfbc52821       accessed
#&gt; 10: 174e050690bf5b732939facdfbc52821 otherFunctions
#&gt; 11: 174e050690bf5b732939facdfbc52821 otherFunctions
#&gt; 12: 174e050690bf5b732939facdfbc52821 otherFunctions
#&gt; 13: 174e050690bf5b732939facdfbc52821 otherFunctions
#&gt; 14: 174e050690bf5b732939facdfbc52821 otherFunctions
#&gt; 15: 174e050690bf5b732939facdfbc52821 otherFunctions
#&gt; 16: 174e050690bf5b732939facdfbc52821 otherFunctions
#&gt; 17: 174e050690bf5b732939facdfbc52821      preDigest
#&gt; 18: 174e050690bf5b732939facdfbc52821      preDigest
#&gt; 19: 9d78a6c108e2019f18cf4313c90efff2         format
#&gt; 20: 9d78a6c108e2019f18cf4313c90efff2           name
#&gt; 21: 9d78a6c108e2019f18cf4313c90efff2          class
#&gt; 22: 9d78a6c108e2019f18cf4313c90efff2           date
#&gt; 23: 9d78a6c108e2019f18cf4313c90efff2        cacheId
#&gt; 24: 9d78a6c108e2019f18cf4313c90efff2     objectName
#&gt; 25: 9d78a6c108e2019f18cf4313c90efff2       function
#&gt; 26: 9d78a6c108e2019f18cf4313c90efff2    object.size
#&gt; 27: 9d78a6c108e2019f18cf4313c90efff2       accessed
#&gt; 28: 9d78a6c108e2019f18cf4313c90efff2 otherFunctions
#&gt; 29: 9d78a6c108e2019f18cf4313c90efff2 otherFunctions
#&gt; 30: 9d78a6c108e2019f18cf4313c90efff2 otherFunctions
#&gt; 31: 9d78a6c108e2019f18cf4313c90efff2 otherFunctions
#&gt; 32: 9d78a6c108e2019f18cf4313c90efff2 otherFunctions
#&gt; 33: 9d78a6c108e2019f18cf4313c90efff2 otherFunctions
#&gt; 34: 9d78a6c108e2019f18cf4313c90efff2 otherFunctions
#&gt; 35: 9d78a6c108e2019f18cf4313c90efff2      preDigest
#&gt; 36: 9d78a6c108e2019f18cf4313c90efff2      preDigest
#&gt;                             artifact         tagKey
#&gt;                                  tagValue         createdDate
#&gt;  1:                                   rda 2018-06-12 16:09:41
#&gt;  2:                                 Cache 2018-06-12 16:09:41
#&gt;  3:                               numeric 2018-06-12 16:09:41
#&gt;  4:                   2018-06-12 16:09:41 2018-06-12 16:09:41
#&gt;  5:      e37bb635c97bc2eeecab63816b881bbc 2018-06-12 16:09:41
#&gt;  6:                                     b 2018-06-12 16:09:41
#&gt;  7:                                 runif 2018-06-12 16:09:41
#&gt;  8:                                   688 2018-06-12 16:09:41
#&gt;  9:                   2018-06-12 16:09:41 2018-06-12 16:09:41
#&gt; 10:                   withCallingHandlers 2018-06-12 16:09:41
#&gt; 11:                               saveRDS 2018-06-12 16:09:41
#&gt; 12:                               do.call 2018-06-12 16:09:41
#&gt; 13:                      build_site_local 2018-06-12 16:09:41
#&gt; 14:                       build_reference 2018-06-12 16:09:41
#&gt; 15:                  data_reference_topic 2018-06-12 16:09:41
#&gt; 16:                                   try 2018-06-12 16:09:41
#&gt; 17:    n:969a49ec15bcd4323ff31538af321264 2018-06-12 16:09:41
#&gt; 18: .FUN:d2631d24c3b38b89c7bdd4ab7faaaac3 2018-06-12 16:09:41
#&gt; 19:                                   rda 2018-06-12 16:09:41
#&gt; 20:                                 Cache 2018-06-12 16:09:41
#&gt; 21:                               numeric 2018-06-12 16:09:41
#&gt; 22:                   2018-06-12 16:09:41 2018-06-12 16:09:41
#&gt; 23:      85874f26b2e0c1ef689a7d379d275ebf 2018-06-12 16:09:41
#&gt; 24:                                     a 2018-06-12 16:09:41
#&gt; 25:                                 rnorm 2018-06-12 16:09:41
#&gt; 26:                                   688 2018-06-12 16:09:41
#&gt; 27:                   2018-06-12 16:09:41 2018-06-12 16:09:41
#&gt; 28:                   withCallingHandlers 2018-06-12 16:09:41
#&gt; 29:                               saveRDS 2018-06-12 16:09:41
#&gt; 30:                               do.call 2018-06-12 16:09:41
#&gt; 31:                      build_site_local 2018-06-12 16:09:41
#&gt; 32:                       build_reference 2018-06-12 16:09:41
#&gt; 33:                  data_reference_topic 2018-06-12 16:09:41
#&gt; 34:                                   try 2018-06-12 16:09:41
#&gt; 35:    n:969a49ec15bcd4323ff31538af321264 2018-06-12 16:09:41
#&gt; 36: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-06-12 16:09:41
#&gt;                                  tagValue         createdDate</div><div class='input'>
<span class='co'># Keep all Cache items created with an rnorm() call</span>
<span class='fu'><a href='viewCache.html'>keepCache</a></span>(<span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='st'>"rnorm"</span>)</div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 12.3 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 337 bytes</span></div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 12.3 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 172 bytes</span></div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 12.3 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 165 bytes</span></div><div class='output co'>#&gt;                             artifact         tagKey
#&gt;  1: 9d78a6c108e2019f18cf4313c90efff2         format
#&gt;  2: 9d78a6c108e2019f18cf4313c90efff2           name
#&gt;  3: 9d78a6c108e2019f18cf4313c90efff2          class
#&gt;  4: 9d78a6c108e2019f18cf4313c90efff2           date
#&gt;  5: 9d78a6c108e2019f18cf4313c90efff2        cacheId
#&gt;  6: 9d78a6c108e2019f18cf4313c90efff2     objectName
#&gt;  7: 9d78a6c108e2019f18cf4313c90efff2       function
#&gt;  8: 9d78a6c108e2019f18cf4313c90efff2    object.size
#&gt;  9: 9d78a6c108e2019f18cf4313c90efff2       accessed
#&gt; 10: 9d78a6c108e2019f18cf4313c90efff2 otherFunctions
#&gt; 11: 9d78a6c108e2019f18cf4313c90efff2 otherFunctions
#&gt; 12: 9d78a6c108e2019f18cf4313c90efff2 otherFunctions
#&gt; 13: 9d78a6c108e2019f18cf4313c90efff2 otherFunctions
#&gt; 14: 9d78a6c108e2019f18cf4313c90efff2 otherFunctions
#&gt; 15: 9d78a6c108e2019f18cf4313c90efff2 otherFunctions
#&gt; 16: 9d78a6c108e2019f18cf4313c90efff2 otherFunctions
#&gt; 17: 9d78a6c108e2019f18cf4313c90efff2      preDigest
#&gt; 18: 9d78a6c108e2019f18cf4313c90efff2      preDigest
#&gt;                                  tagValue         createdDate
#&gt;  1:                                   rda 2018-06-12 16:09:41
#&gt;  2:                                 Cache 2018-06-12 16:09:41
#&gt;  3:                               numeric 2018-06-12 16:09:41
#&gt;  4:                   2018-06-12 16:09:41 2018-06-12 16:09:41
#&gt;  5:      85874f26b2e0c1ef689a7d379d275ebf 2018-06-12 16:09:41
#&gt;  6:                                     a 2018-06-12 16:09:41
#&gt;  7:                                 rnorm 2018-06-12 16:09:41
#&gt;  8:                                   688 2018-06-12 16:09:41
#&gt;  9:                   2018-06-12 16:09:41 2018-06-12 16:09:41
#&gt; 10:                   withCallingHandlers 2018-06-12 16:09:41
#&gt; 11:                               saveRDS 2018-06-12 16:09:41
#&gt; 12:                               do.call 2018-06-12 16:09:41
#&gt; 13:                      build_site_local 2018-06-12 16:09:41
#&gt; 14:                       build_reference 2018-06-12 16:09:41
#&gt; 15:                  data_reference_topic 2018-06-12 16:09:41
#&gt; 16:                                   try 2018-06-12 16:09:41
#&gt; 17:    n:969a49ec15bcd4323ff31538af321264 2018-06-12 16:09:41
#&gt; 18: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-06-12 16:09:41</div><div class='input'>
<span class='co'># Remove all Cache items that happened within a rnorm() call</span>
<span class='fu'><a href='viewCache.html'>clearCache</a></span>(<span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='st'>"rnorm"</span>)</div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 12.2 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 172 bytes</span></div><div class='input'>
<span class='fu'><a href='viewCache.html'>showCache</a></span>(<span class='no'>tmpDir</span>) <span class='co'>## empty</span></div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 12 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 0 bytes</span></div><div class='output co'>#&gt; Empty data.table (0 rows) of 3 cols: md5hash,name,createdDate</div><div class='input'>
<span class='co'>## Example 4: searching for multiple objects in the cache</span>

<span class='co'># default userTags is "and" matching; for "or" matching use |</span>
<span class='no'>ranNumsA</span> <span class='kw'>&lt;-</span> <span class='fu'>Cache</span>(<span class='no'>runif</span>, <span class='fl'>4</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='st'>"objectName:a"</span>)
<span class='no'>ranNumsB</span> <span class='kw'>&lt;-</span> <span class='fu'>Cache</span>(<span class='no'>rnorm</span>, <span class='fl'>4</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='st'>"objectName:b"</span>)

<span class='co'># show all objects (runif and rnorm in this case)</span>
<span class='fu'><a href='viewCache.html'>showCache</a></span>(<span class='no'>tmpDir</span>)</div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 12.3 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 338 bytes</span></div><div class='output co'>#&gt;                             artifact         tagKey
#&gt;  1: 1116b67e01bcd9d0b72fb7528a218f69         format
#&gt;  2: 1116b67e01bcd9d0b72fb7528a218f69           name
#&gt;  3: 1116b67e01bcd9d0b72fb7528a218f69          class
#&gt;  4: 1116b67e01bcd9d0b72fb7528a218f69           date
#&gt;  5: 1116b67e01bcd9d0b72fb7528a218f69        cacheId
#&gt;  6: 1116b67e01bcd9d0b72fb7528a218f69     objectName
#&gt;  7: 1116b67e01bcd9d0b72fb7528a218f69       function
#&gt;  8: 1116b67e01bcd9d0b72fb7528a218f69    object.size
#&gt;  9: 1116b67e01bcd9d0b72fb7528a218f69       accessed
#&gt; 10: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 11: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 12: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 13: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 14: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 15: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 16: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 17: 1116b67e01bcd9d0b72fb7528a218f69      preDigest
#&gt; 18: 1116b67e01bcd9d0b72fb7528a218f69      preDigest
#&gt; 19: 25325e316eae66d6e4cfe7458f1b6258         format
#&gt; 20: 25325e316eae66d6e4cfe7458f1b6258           name
#&gt; 21: 25325e316eae66d6e4cfe7458f1b6258          class
#&gt; 22: 25325e316eae66d6e4cfe7458f1b6258           date
#&gt; 23: 25325e316eae66d6e4cfe7458f1b6258        cacheId
#&gt; 24: 25325e316eae66d6e4cfe7458f1b6258     objectName
#&gt; 25: 25325e316eae66d6e4cfe7458f1b6258       function
#&gt; 26: 25325e316eae66d6e4cfe7458f1b6258    object.size
#&gt; 27: 25325e316eae66d6e4cfe7458f1b6258       accessed
#&gt; 28: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 29: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 30: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 31: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 32: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 33: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 34: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 35: 25325e316eae66d6e4cfe7458f1b6258      preDigest
#&gt; 36: 25325e316eae66d6e4cfe7458f1b6258      preDigest
#&gt;                             artifact         tagKey
#&gt;                                  tagValue         createdDate
#&gt;  1:                                   rda 2018-06-12 16:09:41
#&gt;  2:                                 Cache 2018-06-12 16:09:41
#&gt;  3:                               numeric 2018-06-12 16:09:41
#&gt;  4:                   2018-06-12 16:09:41 2018-06-12 16:09:41
#&gt;  5:      e37bb635c97bc2eeecab63816b881bbc 2018-06-12 16:09:41
#&gt;  6:                                     a 2018-06-12 16:09:41
#&gt;  7:                                 runif 2018-06-12 16:09:41
#&gt;  8:                                   688 2018-06-12 16:09:41
#&gt;  9:                   2018-06-12 16:09:41 2018-06-12 16:09:41
#&gt; 10:                   withCallingHandlers 2018-06-12 16:09:41
#&gt; 11:                               saveRDS 2018-06-12 16:09:41
#&gt; 12:                               do.call 2018-06-12 16:09:41
#&gt; 13:                      build_site_local 2018-06-12 16:09:41
#&gt; 14:                       build_reference 2018-06-12 16:09:41
#&gt; 15:                  data_reference_topic 2018-06-12 16:09:41
#&gt; 16:                                   try 2018-06-12 16:09:41
#&gt; 17:    n:969a49ec15bcd4323ff31538af321264 2018-06-12 16:09:41
#&gt; 18: .FUN:d2631d24c3b38b89c7bdd4ab7faaaac3 2018-06-12 16:09:41
#&gt; 19:                                   rda 2018-06-12 16:09:41
#&gt; 20:                                 Cache 2018-06-12 16:09:41
#&gt; 21:                               numeric 2018-06-12 16:09:41
#&gt; 22:                   2018-06-12 16:09:41 2018-06-12 16:09:41
#&gt; 23:      85874f26b2e0c1ef689a7d379d275ebf 2018-06-12 16:09:41
#&gt; 24:                                     b 2018-06-12 16:09:41
#&gt; 25:                                 rnorm 2018-06-12 16:09:41
#&gt; 26:                                   688 2018-06-12 16:09:41
#&gt; 27:                   2018-06-12 16:09:41 2018-06-12 16:09:41
#&gt; 28:                   withCallingHandlers 2018-06-12 16:09:41
#&gt; 29:                               saveRDS 2018-06-12 16:09:41
#&gt; 30:                               do.call 2018-06-12 16:09:41
#&gt; 31:                      build_site_local 2018-06-12 16:09:41
#&gt; 32:                       build_reference 2018-06-12 16:09:41
#&gt; 33:                  data_reference_topic 2018-06-12 16:09:41
#&gt; 34:                                   try 2018-06-12 16:09:41
#&gt; 35:    n:969a49ec15bcd4323ff31538af321264 2018-06-12 16:09:41
#&gt; 36: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-06-12 16:09:41
#&gt;                                  tagValue         createdDate</div><div class='input'>
<span class='co'># show objects that are both runif and rnorm</span>
<span class='co'># (i.e., none in this case, because objecs are either or, not both)</span>
<span class='fu'><a href='viewCache.html'>showCache</a></span>(<span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"runif"</span>, <span class='st'>"rnorm"</span>)) <span class='co'>## empty</span></div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 12.3 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 338 bytes</span></div><div class='output co'>#&gt; Empty data.table (0 rows) of 4 cols: artifact,tagKey,tagValue,createdDate</div><div class='input'>
<span class='co'># show objects that are either runif or rnorm ("or" search)</span>
<span class='fu'><a href='viewCache.html'>showCache</a></span>(<span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='st'>"runif|rnorm"</span>)</div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 12.3 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 338 bytes</span></div><div class='output co'>#&gt;                             artifact         tagKey
#&gt;  1: 1116b67e01bcd9d0b72fb7528a218f69         format
#&gt;  2: 1116b67e01bcd9d0b72fb7528a218f69           name
#&gt;  3: 1116b67e01bcd9d0b72fb7528a218f69          class
#&gt;  4: 1116b67e01bcd9d0b72fb7528a218f69           date
#&gt;  5: 1116b67e01bcd9d0b72fb7528a218f69        cacheId
#&gt;  6: 1116b67e01bcd9d0b72fb7528a218f69     objectName
#&gt;  7: 1116b67e01bcd9d0b72fb7528a218f69       function
#&gt;  8: 1116b67e01bcd9d0b72fb7528a218f69    object.size
#&gt;  9: 1116b67e01bcd9d0b72fb7528a218f69       accessed
#&gt; 10: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 11: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 12: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 13: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 14: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 15: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 16: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 17: 1116b67e01bcd9d0b72fb7528a218f69      preDigest
#&gt; 18: 1116b67e01bcd9d0b72fb7528a218f69      preDigest
#&gt; 19: 25325e316eae66d6e4cfe7458f1b6258         format
#&gt; 20: 25325e316eae66d6e4cfe7458f1b6258           name
#&gt; 21: 25325e316eae66d6e4cfe7458f1b6258          class
#&gt; 22: 25325e316eae66d6e4cfe7458f1b6258           date
#&gt; 23: 25325e316eae66d6e4cfe7458f1b6258        cacheId
#&gt; 24: 25325e316eae66d6e4cfe7458f1b6258     objectName
#&gt; 25: 25325e316eae66d6e4cfe7458f1b6258       function
#&gt; 26: 25325e316eae66d6e4cfe7458f1b6258    object.size
#&gt; 27: 25325e316eae66d6e4cfe7458f1b6258       accessed
#&gt; 28: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 29: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 30: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 31: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 32: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 33: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 34: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 35: 25325e316eae66d6e4cfe7458f1b6258      preDigest
#&gt; 36: 25325e316eae66d6e4cfe7458f1b6258      preDigest
#&gt;                             artifact         tagKey
#&gt;                                  tagValue         createdDate
#&gt;  1:                                   rda 2018-06-12 16:09:41
#&gt;  2:                                 Cache 2018-06-12 16:09:41
#&gt;  3:                               numeric 2018-06-12 16:09:41
#&gt;  4:                   2018-06-12 16:09:41 2018-06-12 16:09:41
#&gt;  5:      e37bb635c97bc2eeecab63816b881bbc 2018-06-12 16:09:41
#&gt;  6:                                     a 2018-06-12 16:09:41
#&gt;  7:                                 runif 2018-06-12 16:09:41
#&gt;  8:                                   688 2018-06-12 16:09:41
#&gt;  9:                   2018-06-12 16:09:41 2018-06-12 16:09:41
#&gt; 10:                   withCallingHandlers 2018-06-12 16:09:41
#&gt; 11:                               saveRDS 2018-06-12 16:09:41
#&gt; 12:                               do.call 2018-06-12 16:09:41
#&gt; 13:                      build_site_local 2018-06-12 16:09:41
#&gt; 14:                       build_reference 2018-06-12 16:09:41
#&gt; 15:                  data_reference_topic 2018-06-12 16:09:41
#&gt; 16:                                   try 2018-06-12 16:09:41
#&gt; 17:    n:969a49ec15bcd4323ff31538af321264 2018-06-12 16:09:41
#&gt; 18: .FUN:d2631d24c3b38b89c7bdd4ab7faaaac3 2018-06-12 16:09:41
#&gt; 19:                                   rda 2018-06-12 16:09:41
#&gt; 20:                                 Cache 2018-06-12 16:09:41
#&gt; 21:                               numeric 2018-06-12 16:09:41
#&gt; 22:                   2018-06-12 16:09:41 2018-06-12 16:09:41
#&gt; 23:      85874f26b2e0c1ef689a7d379d275ebf 2018-06-12 16:09:41
#&gt; 24:                                     b 2018-06-12 16:09:41
#&gt; 25:                                 rnorm 2018-06-12 16:09:41
#&gt; 26:                                   688 2018-06-12 16:09:41
#&gt; 27:                   2018-06-12 16:09:41 2018-06-12 16:09:41
#&gt; 28:                   withCallingHandlers 2018-06-12 16:09:41
#&gt; 29:                               saveRDS 2018-06-12 16:09:41
#&gt; 30:                               do.call 2018-06-12 16:09:41
#&gt; 31:                      build_site_local 2018-06-12 16:09:41
#&gt; 32:                       build_reference 2018-06-12 16:09:41
#&gt; 33:                  data_reference_topic 2018-06-12 16:09:41
#&gt; 34:                                   try 2018-06-12 16:09:41
#&gt; 35:    n:969a49ec15bcd4323ff31538af321264 2018-06-12 16:09:41
#&gt; 36: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-06-12 16:09:41
#&gt;                                  tagValue         createdDate</div><div class='input'>
<span class='co'># keep only objects that are either runif or rnorm ("or" search)</span>
<span class='fu'><a href='viewCache.html'>keepCache</a></span>(<span class='no'>tmpDir</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='st'>"runif|rnorm"</span>)</div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 12.3 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 338 bytes</span></div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 12.3 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 338 bytes</span></div><div class='output co'>#&gt;                             artifact         tagKey
#&gt;  1: 1116b67e01bcd9d0b72fb7528a218f69         format
#&gt;  2: 1116b67e01bcd9d0b72fb7528a218f69           name
#&gt;  3: 1116b67e01bcd9d0b72fb7528a218f69          class
#&gt;  4: 1116b67e01bcd9d0b72fb7528a218f69           date
#&gt;  5: 1116b67e01bcd9d0b72fb7528a218f69        cacheId
#&gt;  6: 1116b67e01bcd9d0b72fb7528a218f69     objectName
#&gt;  7: 1116b67e01bcd9d0b72fb7528a218f69       function
#&gt;  8: 1116b67e01bcd9d0b72fb7528a218f69    object.size
#&gt;  9: 1116b67e01bcd9d0b72fb7528a218f69       accessed
#&gt; 10: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 11: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 12: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 13: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 14: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 15: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 16: 1116b67e01bcd9d0b72fb7528a218f69 otherFunctions
#&gt; 17: 1116b67e01bcd9d0b72fb7528a218f69      preDigest
#&gt; 18: 1116b67e01bcd9d0b72fb7528a218f69      preDigest
#&gt; 19: 25325e316eae66d6e4cfe7458f1b6258         format
#&gt; 20: 25325e316eae66d6e4cfe7458f1b6258           name
#&gt; 21: 25325e316eae66d6e4cfe7458f1b6258          class
#&gt; 22: 25325e316eae66d6e4cfe7458f1b6258           date
#&gt; 23: 25325e316eae66d6e4cfe7458f1b6258        cacheId
#&gt; 24: 25325e316eae66d6e4cfe7458f1b6258     objectName
#&gt; 25: 25325e316eae66d6e4cfe7458f1b6258       function
#&gt; 26: 25325e316eae66d6e4cfe7458f1b6258    object.size
#&gt; 27: 25325e316eae66d6e4cfe7458f1b6258       accessed
#&gt; 28: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 29: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 30: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 31: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 32: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 33: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 34: 25325e316eae66d6e4cfe7458f1b6258 otherFunctions
#&gt; 35: 25325e316eae66d6e4cfe7458f1b6258      preDigest
#&gt; 36: 25325e316eae66d6e4cfe7458f1b6258      preDigest
#&gt;                             artifact         tagKey
#&gt;                                  tagValue         createdDate
#&gt;  1:                                   rda 2018-06-12 16:09:41
#&gt;  2:                                 Cache 2018-06-12 16:09:41
#&gt;  3:                               numeric 2018-06-12 16:09:41
#&gt;  4:                   2018-06-12 16:09:41 2018-06-12 16:09:41
#&gt;  5:      e37bb635c97bc2eeecab63816b881bbc 2018-06-12 16:09:41
#&gt;  6:                                     a 2018-06-12 16:09:41
#&gt;  7:                                 runif 2018-06-12 16:09:41
#&gt;  8:                                   688 2018-06-12 16:09:41
#&gt;  9:                   2018-06-12 16:09:41 2018-06-12 16:09:41
#&gt; 10:                   withCallingHandlers 2018-06-12 16:09:41
#&gt; 11:                               saveRDS 2018-06-12 16:09:41
#&gt; 12:                               do.call 2018-06-12 16:09:41
#&gt; 13:                      build_site_local 2018-06-12 16:09:41
#&gt; 14:                       build_reference 2018-06-12 16:09:41
#&gt; 15:                  data_reference_topic 2018-06-12 16:09:41
#&gt; 16:                                   try 2018-06-12 16:09:41
#&gt; 17:    n:969a49ec15bcd4323ff31538af321264 2018-06-12 16:09:41
#&gt; 18: .FUN:d2631d24c3b38b89c7bdd4ab7faaaac3 2018-06-12 16:09:41
#&gt; 19:                                   rda 2018-06-12 16:09:41
#&gt; 20:                                 Cache 2018-06-12 16:09:41
#&gt; 21:                               numeric 2018-06-12 16:09:41
#&gt; 22:                   2018-06-12 16:09:41 2018-06-12 16:09:41
#&gt; 23:      85874f26b2e0c1ef689a7d379d275ebf 2018-06-12 16:09:41
#&gt; 24:                                     b 2018-06-12 16:09:41
#&gt; 25:                                 rnorm 2018-06-12 16:09:41
#&gt; 26:                                   688 2018-06-12 16:09:41
#&gt; 27:                   2018-06-12 16:09:41 2018-06-12 16:09:41
#&gt; 28:                   withCallingHandlers 2018-06-12 16:09:41
#&gt; 29:                               saveRDS 2018-06-12 16:09:41
#&gt; 30:                               do.call 2018-06-12 16:09:41
#&gt; 31:                      build_site_local 2018-06-12 16:09:41
#&gt; 32:                       build_reference 2018-06-12 16:09:41
#&gt; 33:                  data_reference_topic 2018-06-12 16:09:41
#&gt; 34:                                   try 2018-06-12 16:09:41
#&gt; 35:    n:969a49ec15bcd4323ff31538af321264 2018-06-12 16:09:41
#&gt; 36: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-06-12 16:09:41
#&gt;                                  tagValue         createdDate</div><div class='input'>
<span class='fu'><a href='viewCache.html'>clearCache</a></span>(<span class='no'>tmpDir</span>)

<span class='co'>## Example 5: using caching to speed up rerunning expensive computations</span>
<span class='no'>ras</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/raster'>raster</a></span>(<span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/extent'>extent</a></span>(<span class='fl'>0</span>, <span class='fl'>5</span>, <span class='fl'>0</span>, <span class='fl'>5</span>), <span class='kw'>res</span> <span class='kw'>=</span> <span class='fl'>1</span>,
              <span class='kw'>vals</span> <span class='kw'>=</span> <span class='fu'>sample</span>(<span class='fl'>1</span>:<span class='fl'>5</span>, <span class='kw'>replace</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>size</span> <span class='kw'>=</span> <span class='fl'>25</span>),
              <span class='kw'>crs</span> <span class='kw'>=</span> <span class='st'>"+proj=lcc +lat_1=48 +lat_2=33 +lon_0=-100 +ellps=WGS84"</span>)

<span class='co'># A slow operation, like GIS operation</span>
<span class='no'>notCached</span> <span class='kw'>&lt;-</span> <span class='fu'>suppressWarnings</span>(
  <span class='co'># project raster generates warnings when run non-interactively</span>
  <span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/projectRaster'>projectRaster</a></span>(<span class='no'>ras</span>, <span class='kw'>crs</span> <span class='kw'>=</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/projection'>crs</a></span>(<span class='no'>ras</span>), <span class='kw'>res</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>)
)

<span class='no'>cached</span> <span class='kw'>&lt;-</span> <span class='fu'>suppressWarnings</span>(
  <span class='co'># project raster generates warnings when run non-interactively</span>
  <span class='co'># using quote works also</span>
  <span class='fu'>Cache</span>(<span class='no'>projectRaster</span>, <span class='no'>ras</span>, <span class='kw'>crs</span> <span class='kw'>=</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/projection'>crs</a></span>(<span class='no'>ras</span>), <span class='kw'>res</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>)
)

<span class='co'># second time is much faster</span>
<span class='no'>reRun</span> <span class='kw'>&lt;-</span> <span class='fu'>suppressWarnings</span>(
  <span class='co'># project raster generates warnings when run non-interactively</span>
  <span class='fu'>Cache</span>(<span class='no'>projectRaster</span>, <span class='no'>ras</span>, <span class='kw'>crs</span> <span class='kw'>=</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/projection'>crs</a></span>(<span class='no'>ras</span>), <span class='kw'>res</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>)
)</div><div class='output co'>#&gt; <span class='message'>  loading cached result from previous projectRaster call, adding to memoised copy</span></div><div class='input'>
<span class='co'># recovered cached version is same as non-cached version</span>
<span class='fu'>all.equal</span>(<span class='no'>notCached</span>, <span class='no'>reRun</span>) <span class='co'>## TRUE</span></div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>
<span class='co'>## Example 6: working with file paths</span>

<span class='co'># if passing a character string, it will take 2 complete passes to before</span>
<span class='co'>#  a cached copy is used when it is a save event (read or load is different)</span>
<span class='no'>obj</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>:<span class='fl'>10</span>
<span class='no'>fname</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>(<span class='kw'>fileext</span> <span class='kw'>=</span> <span class='st'>".RData"</span>)
<span class='fu'>Cache</span>(<span class='no'>saveRDS</span>, <span class='no'>obj</span>, <span class='kw'>file</span> <span class='kw'>=</span> <span class='no'>fname</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>)</div><div class='output co'>#&gt; NULL</div><div class='input'><span class='fu'>Cache</span>(<span class='no'>saveRDS</span>, <span class='no'>obj</span>, <span class='kw'>file</span> <span class='kw'>=</span> <span class='no'>fname</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>)</div><div class='output co'>#&gt; NULL</div><div class='input'><span class='fu'>Cache</span>(<span class='no'>saveRDS</span>, <span class='no'>obj</span>, <span class='kw'>file</span> <span class='kw'>=</span> <span class='no'>fname</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>) <span class='co'># cached copy is loaded</span></div><div class='output co'>#&gt; <span class='message'>  loading cached result from previous saveRDS call, adding to memoised copy</span></div><div class='output co'>#&gt; NULL</div><div class='input'>
<span class='co'># however, using asPath(), cached version retrieved after being run once</span>
<span class='no'>fname1</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>(<span class='kw'>fileext</span> <span class='kw'>=</span> <span class='st'>".RData"</span>)
<span class='fu'>Cache</span>(<span class='no'>saveRDS</span>, <span class='no'>obj</span>, <span class='kw'>file</span> <span class='kw'>=</span> <span class='fu'>asPath</span>(<span class='no'>fname1</span>), <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>)</div><div class='output co'>#&gt; NULL</div><div class='input'><span class='fu'>Cache</span>(<span class='no'>saveRDS</span>, <span class='no'>obj</span>, <span class='kw'>file</span> <span class='kw'>=</span> <span class='fu'>asPath</span>(<span class='no'>fname1</span>), <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpDir</span>) <span class='co'># cached copy is loaded</span></div><div class='output co'>#&gt; NULL</div><div class='input'>
<span class='fu'><a href='viewCache.html'>clearCache</a></span>(<span class='no'>tmpDir</span>)


<span class='co'>##########################</span>
<span class='co'>## Nested Caching</span>
<span class='co'># Make 2 functions</span>
<span class='no'>inner</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>mean</span>) {
  <span class='no'>d</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>
  <span class='fu'>Cache</span>(<span class='no'>rnorm</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>mean</span> <span class='kw'>=</span> <span class='no'>mean</span>)
}
<span class='no'>outer</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>n</span>) {
  <span class='fu'>Cache</span>(<span class='no'>inner</span>, <span class='fl'>0.1</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpdir2</span>)
}

<span class='co'># make 2 different cache paths</span>
<span class='no'>tmpdir1</span> <span class='kw'>&lt;-</span> <span class='fu'>file.path</span>(<span class='fu'>tempdir</span>(), <span class='st'>"first"</span>)
<span class='no'>tmpdir2</span> <span class='kw'>&lt;-</span> <span class='fu'>file.path</span>(<span class='fu'>tempdir</span>(), <span class='st'>"second"</span>)

<span class='co'># Run the Cache ... notOlderThan propagates to all 3 Cache calls,</span>
<span class='co'>#   but cacheRepo is tmpdir1 in top level Cache and all nested</span>
<span class='co'>#   Cache calls, unless individually overridden ... here inner</span>
<span class='co'>#   uses tmpdir2 repository</span>
<span class='fu'>Cache</span>(<span class='no'>outer</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpdir1</span>, <span class='kw'>notOlderThan</span> <span class='kw'>=</span> <span class='fu'>Sys.time</span>())</div><div class='output co'>#&gt; [1] -0.8441017 -1.6810619 -0.6160587
#&gt; attr(,"tags")
#&gt; [1] "cacheId:e09bf93970f9e94d5c639cfa8ca722f0"
#&gt; attr(,"newCache")
#&gt; [1] TRUE
#&gt; attr(,"call")
#&gt; [1] ""</div><div class='input'>
<span class='fu'><a href='viewCache.html'>showCache</a></span>(<span class='no'>tmpdir1</span>) <span class='co'># 2 function calls</span></div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 12.3 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 329 bytes</span></div><div class='output co'>#&gt;                             artifact         tagKey
#&gt;  1: 613e35915da4cbb63d02c12195617bd8         format
#&gt;  2: 613e35915da4cbb63d02c12195617bd8           name
#&gt;  3: 613e35915da4cbb63d02c12195617bd8          class
#&gt;  4: 613e35915da4cbb63d02c12195617bd8           date
#&gt;  5: 613e35915da4cbb63d02c12195617bd8        cacheId
#&gt;  6: 613e35915da4cbb63d02c12195617bd8       function
#&gt;  7: 613e35915da4cbb63d02c12195617bd8    object.size
#&gt;  8: 613e35915da4cbb63d02c12195617bd8       accessed
#&gt;  9: 613e35915da4cbb63d02c12195617bd8 otherFunctions
#&gt; 10: 613e35915da4cbb63d02c12195617bd8 otherFunctions
#&gt; 11: 613e35915da4cbb63d02c12195617bd8 otherFunctions
#&gt; 12: 613e35915da4cbb63d02c12195617bd8 otherFunctions
#&gt; 13: 613e35915da4cbb63d02c12195617bd8 otherFunctions
#&gt; 14: 613e35915da4cbb63d02c12195617bd8 otherFunctions
#&gt; 15: 613e35915da4cbb63d02c12195617bd8 otherFunctions
#&gt; 16: 613e35915da4cbb63d02c12195617bd8      preDigest
#&gt; 17: 613e35915da4cbb63d02c12195617bd8      preDigest
#&gt; 18: 8dd1d7c465b2c18ebe4f5741ab9a0504         format
#&gt; 19: 8dd1d7c465b2c18ebe4f5741ab9a0504           name
#&gt; 20: 8dd1d7c465b2c18ebe4f5741ab9a0504          class
#&gt; 21: 8dd1d7c465b2c18ebe4f5741ab9a0504           date
#&gt; 22: 8dd1d7c465b2c18ebe4f5741ab9a0504        cacheId
#&gt; 23: 8dd1d7c465b2c18ebe4f5741ab9a0504       function
#&gt; 24: 8dd1d7c465b2c18ebe4f5741ab9a0504    object.size
#&gt; 25: 8dd1d7c465b2c18ebe4f5741ab9a0504       accessed
#&gt; 26: 8dd1d7c465b2c18ebe4f5741ab9a0504 otherFunctions
#&gt; 27: 8dd1d7c465b2c18ebe4f5741ab9a0504 otherFunctions
#&gt; 28: 8dd1d7c465b2c18ebe4f5741ab9a0504 otherFunctions
#&gt; 29: 8dd1d7c465b2c18ebe4f5741ab9a0504 otherFunctions
#&gt; 30: 8dd1d7c465b2c18ebe4f5741ab9a0504 otherFunctions
#&gt; 31: 8dd1d7c465b2c18ebe4f5741ab9a0504 otherFunctions
#&gt; 32: 8dd1d7c465b2c18ebe4f5741ab9a0504 otherFunctions
#&gt; 33: 8dd1d7c465b2c18ebe4f5741ab9a0504      preDigest
#&gt; 34: 8dd1d7c465b2c18ebe4f5741ab9a0504      preDigest
#&gt; 35: 8dd1d7c465b2c18ebe4f5741ab9a0504      preDigest
#&gt;                             artifact         tagKey
#&gt;                                  tagValue         createdDate
#&gt;  1:                                   rda 2018-06-12 16:09:43
#&gt;  2:                                 Cache 2018-06-12 16:09:43
#&gt;  3:                               numeric 2018-06-12 16:09:43
#&gt;  4:                   2018-06-12 16:09:43 2018-06-12 16:09:43
#&gt;  5:      e09bf93970f9e94d5c639cfa8ca722f0 2018-06-12 16:09:43
#&gt;  6:                                 outer 2018-06-12 16:09:43
#&gt;  7:                                   688 2018-06-12 16:09:43
#&gt;  8:                   2018-06-12 16:09:43 2018-06-12 16:09:43
#&gt;  9:                   withCallingHandlers 2018-06-12 16:09:43
#&gt; 10:                               saveRDS 2018-06-12 16:09:43
#&gt; 11:                               do.call 2018-06-12 16:09:43
#&gt; 12:                      build_site_local 2018-06-12 16:09:43
#&gt; 13:                       build_reference 2018-06-12 16:09:43
#&gt; 14:                  data_reference_topic 2018-06-12 16:09:43
#&gt; 15:                                   try 2018-06-12 16:09:43
#&gt; 16:    n:8128a6180a705341ab7c05cfa945edfb 2018-06-12 16:09:43
#&gt; 17: .FUN:b5f6bcbdd9f23e39c2c5d4020e73a6ff 2018-06-12 16:09:43
#&gt; 18:                                   rda 2018-06-12 16:09:42
#&gt; 19:                                 Cache 2018-06-12 16:09:42
#&gt; 20:                               numeric 2018-06-12 16:09:42
#&gt; 21:                   2018-06-12 16:09:42 2018-06-12 16:09:42
#&gt; 22:      cec73d63ad3864af8bcd7efc5fae864d 2018-06-12 16:09:42
#&gt; 23:                                 rnorm 2018-06-12 16:09:42
#&gt; 24:                                   688 2018-06-12 16:09:42
#&gt; 25:                   2018-06-12 16:09:42 2018-06-12 16:09:42
#&gt; 26:                   withCallingHandlers 2018-06-12 16:09:42
#&gt; 27:                               saveRDS 2018-06-12 16:09:42
#&gt; 28:                               do.call 2018-06-12 16:09:42
#&gt; 29:                      build_site_local 2018-06-12 16:09:42
#&gt; 30:                       build_reference 2018-06-12 16:09:42
#&gt; 31:                  data_reference_topic 2018-06-12 16:09:42
#&gt; 32:                                   try 2018-06-12 16:09:42
#&gt; 33:    n:4ae3e6b6364de42fdc243469d73448cc 2018-06-12 16:09:42
#&gt; 34: mean:c28b87a0be6a99966bdaa5e556974b43 2018-06-12 16:09:42
#&gt; 35: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-06-12 16:09:42
#&gt;                                  tagValue         createdDate</div><div class='input'><span class='fu'><a href='viewCache.html'>showCache</a></span>(<span class='no'>tmpdir2</span>) <span class='co'># 1 function call</span></div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 12.2 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 165 bytes</span></div><div class='output co'>#&gt;                             artifact         tagKey
#&gt;  1: 24a53eb91504de5445880bf3a3556ddc         format
#&gt;  2: 24a53eb91504de5445880bf3a3556ddc           name
#&gt;  3: 24a53eb91504de5445880bf3a3556ddc          class
#&gt;  4: 24a53eb91504de5445880bf3a3556ddc           date
#&gt;  5: 24a53eb91504de5445880bf3a3556ddc        cacheId
#&gt;  6: 24a53eb91504de5445880bf3a3556ddc       function
#&gt;  7: 24a53eb91504de5445880bf3a3556ddc    object.size
#&gt;  8: 24a53eb91504de5445880bf3a3556ddc       accessed
#&gt;  9: 24a53eb91504de5445880bf3a3556ddc otherFunctions
#&gt; 10: 24a53eb91504de5445880bf3a3556ddc otherFunctions
#&gt; 11: 24a53eb91504de5445880bf3a3556ddc otherFunctions
#&gt; 12: 24a53eb91504de5445880bf3a3556ddc otherFunctions
#&gt; 13: 24a53eb91504de5445880bf3a3556ddc otherFunctions
#&gt; 14: 24a53eb91504de5445880bf3a3556ddc otherFunctions
#&gt; 15: 24a53eb91504de5445880bf3a3556ddc otherFunctions
#&gt; 16: 24a53eb91504de5445880bf3a3556ddc      preDigest
#&gt; 17: 24a53eb91504de5445880bf3a3556ddc      preDigest
#&gt;                                  tagValue         createdDate
#&gt;  1:                                   rda 2018-06-12 16:09:42
#&gt;  2:                                 Cache 2018-06-12 16:09:42
#&gt;  3:                               numeric 2018-06-12 16:09:42
#&gt;  4:                   2018-06-12 16:09:42 2018-06-12 16:09:42
#&gt;  5:      19b808ac6871e0184e63c421a116cb61 2018-06-12 16:09:43
#&gt;  6:                                 inner 2018-06-12 16:09:43
#&gt;  7:                                   688 2018-06-12 16:09:43
#&gt;  8:                   2018-06-12 16:09:42 2018-06-12 16:09:43
#&gt;  9:                   withCallingHandlers 2018-06-12 16:09:43
#&gt; 10:                               saveRDS 2018-06-12 16:09:43
#&gt; 11:                               do.call 2018-06-12 16:09:43
#&gt; 12:                      build_site_local 2018-06-12 16:09:43
#&gt; 13:                       build_reference 2018-06-12 16:09:43
#&gt; 14:                  data_reference_topic 2018-06-12 16:09:43
#&gt; 15:                                   try 2018-06-12 16:09:43
#&gt; 16: mean:c28b87a0be6a99966bdaa5e556974b43 2018-06-12 16:09:43
#&gt; 17: .FUN:56a1302d7ef43383766d7af6ca072c4e 2018-06-12 16:09:43</div><div class='input'>
<span class='co'># userTags get appended</span>
<span class='co'># all items have the outer tag propagate, plus inner ones only have inner ones</span>
<span class='fu'><a href='viewCache.html'>clearCache</a></span>(<span class='no'>tmpdir1</span>)
<span class='no'>outerTag</span> <span class='kw'>&lt;-</span> <span class='st'>"outerTag"</span>
<span class='no'>innerTag</span> <span class='kw'>&lt;-</span> <span class='st'>"innerTag"</span>
<span class='no'>inner</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>mean</span>) {
  <span class='no'>d</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>
  <span class='fu'>Cache</span>(<span class='no'>rnorm</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>mean</span> <span class='kw'>=</span> <span class='no'>mean</span>, <span class='kw'>notOlderThan</span> <span class='kw'>=</span> <span class='fu'>Sys.time</span>() - <span class='fl'>1e5</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='no'>innerTag</span>)
}
<span class='no'>outer</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>n</span>) {
  <span class='fu'>Cache</span>(<span class='no'>inner</span>, <span class='fl'>0.1</span>)
}
<span class='no'>aa</span> <span class='kw'>&lt;-</span> <span class='fu'>Cache</span>(<span class='no'>outer</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpdir1</span>, <span class='kw'>userTags</span> <span class='kw'>=</span> <span class='no'>outerTag</span>)
<span class='fu'><a href='viewCache.html'>showCache</a></span>(<span class='no'>tmpdir1</span>) <span class='co'># rnorm function has outerTag and innerTag, inner and outer only have outerTag</span></div><div class='output co'>#&gt; <span class='message'>Cache size: </span></div><div class='output co'>#&gt; <span class='message'>  Total (including Rasters): 20.5 Kb</span></div><div class='output co'>#&gt; <span class='message'>  Selected objects (not including Rasters): 491 bytes</span></div><div class='output co'>#&gt;                             artifact         tagKey
#&gt;  1: 66bc6a323554df27928acb48b29eb807         format
#&gt;  2: 66bc6a323554df27928acb48b29eb807           name
#&gt;  3: 66bc6a323554df27928acb48b29eb807          class
#&gt;  4: 66bc6a323554df27928acb48b29eb807           date
#&gt;  5: 66bc6a323554df27928acb48b29eb807        cacheId
#&gt;  6: 66bc6a323554df27928acb48b29eb807       outerTag
#&gt;  7: 66bc6a323554df27928acb48b29eb807       function
#&gt;  8: 66bc6a323554df27928acb48b29eb807    object.size
#&gt;  9: 66bc6a323554df27928acb48b29eb807       accessed
#&gt; 10: 66bc6a323554df27928acb48b29eb807 otherFunctions
#&gt; 11: 66bc6a323554df27928acb48b29eb807 otherFunctions
#&gt; 12: 66bc6a323554df27928acb48b29eb807 otherFunctions
#&gt; 13: 66bc6a323554df27928acb48b29eb807 otherFunctions
#&gt; 14: 66bc6a323554df27928acb48b29eb807 otherFunctions
#&gt; 15: 66bc6a323554df27928acb48b29eb807 otherFunctions
#&gt; 16: 66bc6a323554df27928acb48b29eb807 otherFunctions
#&gt; 17: 66bc6a323554df27928acb48b29eb807      preDigest
#&gt; 18: 66bc6a323554df27928acb48b29eb807      preDigest
#&gt; 19: 9888bf238cc4fdf2634afb97f709fc32         format
#&gt; 20: 9888bf238cc4fdf2634afb97f709fc32           name
#&gt; 21: 9888bf238cc4fdf2634afb97f709fc32          class
#&gt; 22: 9888bf238cc4fdf2634afb97f709fc32           date
#&gt; 23: 9888bf238cc4fdf2634afb97f709fc32        cacheId
#&gt; 24: 9888bf238cc4fdf2634afb97f709fc32       outerTag
#&gt; 25: 9888bf238cc4fdf2634afb97f709fc32       function
#&gt; 26: 9888bf238cc4fdf2634afb97f709fc32    object.size
#&gt; 27: 9888bf238cc4fdf2634afb97f709fc32       accessed
#&gt; 28: 9888bf238cc4fdf2634afb97f709fc32 otherFunctions
#&gt; 29: 9888bf238cc4fdf2634afb97f709fc32 otherFunctions
#&gt; 30: 9888bf238cc4fdf2634afb97f709fc32 otherFunctions
#&gt; 31: 9888bf238cc4fdf2634afb97f709fc32 otherFunctions
#&gt; 32: 9888bf238cc4fdf2634afb97f709fc32 otherFunctions
#&gt; 33: 9888bf238cc4fdf2634afb97f709fc32 otherFunctions
#&gt; 34: 9888bf238cc4fdf2634afb97f709fc32 otherFunctions
#&gt; 35: 9888bf238cc4fdf2634afb97f709fc32      preDigest
#&gt; 36: 9888bf238cc4fdf2634afb97f709fc32      preDigest
#&gt; 37: a4e721a5494fbefea35ac769cc0c3365         format
#&gt; 38: a4e721a5494fbefea35ac769cc0c3365           name
#&gt; 39: a4e721a5494fbefea35ac769cc0c3365          class
#&gt; 40: a4e721a5494fbefea35ac769cc0c3365           date
#&gt; 41: a4e721a5494fbefea35ac769cc0c3365        cacheId
#&gt; 42: a4e721a5494fbefea35ac769cc0c3365       innerTag
#&gt; 43: a4e721a5494fbefea35ac769cc0c3365       outerTag
#&gt; 44: a4e721a5494fbefea35ac769cc0c3365       function
#&gt; 45: a4e721a5494fbefea35ac769cc0c3365    object.size
#&gt; 46: a4e721a5494fbefea35ac769cc0c3365       accessed
#&gt; 47: a4e721a5494fbefea35ac769cc0c3365 otherFunctions
#&gt; 48: a4e721a5494fbefea35ac769cc0c3365 otherFunctions
#&gt; 49: a4e721a5494fbefea35ac769cc0c3365 otherFunctions
#&gt; 50: a4e721a5494fbefea35ac769cc0c3365 otherFunctions
#&gt; 51: a4e721a5494fbefea35ac769cc0c3365 otherFunctions
#&gt; 52: a4e721a5494fbefea35ac769cc0c3365 otherFunctions
#&gt; 53: a4e721a5494fbefea35ac769cc0c3365 otherFunctions
#&gt; 54: a4e721a5494fbefea35ac769cc0c3365      preDigest
#&gt; 55: a4e721a5494fbefea35ac769cc0c3365      preDigest
#&gt; 56: a4e721a5494fbefea35ac769cc0c3365      preDigest
#&gt;                             artifact         tagKey
#&gt;                                  tagValue         createdDate
#&gt;  1:                                   rda 2018-06-12 16:09:43
#&gt;  2:                                 Cache 2018-06-12 16:09:43
#&gt;  3:                               numeric 2018-06-12 16:09:43
#&gt;  4:                   2018-06-12 16:09:43 2018-06-12 16:09:43
#&gt;  5:      994d1330fbd961f795ab0dc508271963 2018-06-12 16:09:43
#&gt;  6:                              outerTag 2018-06-12 16:09:43
#&gt;  7:                                 inner 2018-06-12 16:09:43
#&gt;  8:                                   688 2018-06-12 16:09:43
#&gt;  9:                   2018-06-12 16:09:43 2018-06-12 16:09:43
#&gt; 10:                   withCallingHandlers 2018-06-12 16:09:43
#&gt; 11:                               saveRDS 2018-06-12 16:09:43
#&gt; 12:                               do.call 2018-06-12 16:09:43
#&gt; 13:                      build_site_local 2018-06-12 16:09:43
#&gt; 14:                       build_reference 2018-06-12 16:09:43
#&gt; 15:                  data_reference_topic 2018-06-12 16:09:43
#&gt; 16:                                   try 2018-06-12 16:09:43
#&gt; 17: mean:c28b87a0be6a99966bdaa5e556974b43 2018-06-12 16:09:43
#&gt; 18: .FUN:b910401646b09073940de757678db03d 2018-06-12 16:09:43
#&gt; 19:                                   rda 2018-06-12 16:09:43
#&gt; 20:                                 Cache 2018-06-12 16:09:43
#&gt; 21:                               numeric 2018-06-12 16:09:43
#&gt; 22:                   2018-06-12 16:09:43 2018-06-12 16:09:43
#&gt; 23:      44f57deb36c53cd9c395e04c51fea77a 2018-06-12 16:09:43
#&gt; 24:                              outerTag 2018-06-12 16:09:43
#&gt; 25:                                 outer 2018-06-12 16:09:43
#&gt; 26:                                   688 2018-06-12 16:09:43
#&gt; 27:                   2018-06-12 16:09:43 2018-06-12 16:09:43
#&gt; 28:                   withCallingHandlers 2018-06-12 16:09:43
#&gt; 29:                               saveRDS 2018-06-12 16:09:43
#&gt; 30:                               do.call 2018-06-12 16:09:43
#&gt; 31:                      build_site_local 2018-06-12 16:09:43
#&gt; 32:                       build_reference 2018-06-12 16:09:43
#&gt; 33:                  data_reference_topic 2018-06-12 16:09:43
#&gt; 34:                                   try 2018-06-12 16:09:43
#&gt; 35:    n:8128a6180a705341ab7c05cfa945edfb 2018-06-12 16:09:43
#&gt; 36: .FUN:62302feda89e19149a56ca40fde725e1 2018-06-12 16:09:43
#&gt; 37:                                   rda 2018-06-12 16:09:43
#&gt; 38:                                 Cache 2018-06-12 16:09:43
#&gt; 39:                               numeric 2018-06-12 16:09:43
#&gt; 40:                   2018-06-12 16:09:43 2018-06-12 16:09:43
#&gt; 41:      cec73d63ad3864af8bcd7efc5fae864d 2018-06-12 16:09:43
#&gt; 42:                              innerTag 2018-06-12 16:09:43
#&gt; 43:                              outerTag 2018-06-12 16:09:43
#&gt; 44:                                 rnorm 2018-06-12 16:09:43
#&gt; 45:                                   688 2018-06-12 16:09:43
#&gt; 46:                   2018-06-12 16:09:43 2018-06-12 16:09:43
#&gt; 47:                   withCallingHandlers 2018-06-12 16:09:43
#&gt; 48:                               saveRDS 2018-06-12 16:09:43
#&gt; 49:                               do.call 2018-06-12 16:09:43
#&gt; 50:                      build_site_local 2018-06-12 16:09:43
#&gt; 51:                       build_reference 2018-06-12 16:09:43
#&gt; 52:                  data_reference_topic 2018-06-12 16:09:43
#&gt; 53:                                   try 2018-06-12 16:09:43
#&gt; 54:    n:4ae3e6b6364de42fdc243469d73448cc 2018-06-12 16:09:43
#&gt; 55: mean:c28b87a0be6a99966bdaa5e556974b43 2018-06-12 16:09:43
#&gt; 56: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-06-12 16:09:43
#&gt;                                  tagValue         createdDate</div><div class='input'>
<span class='co'>### cacheId</span>
<span class='fu'>set.seed</span>(<span class='fl'>1</span>)
<span class='fu'>Cache</span>(<span class='no'>rnorm</span>, <span class='fl'>1</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpdir1</span>)</div><div class='output co'>#&gt; [1] -0.6264538
#&gt; attr(,"tags")
#&gt; [1] "cacheId:23dc247384c1b270f0d36de4bca1b138"
#&gt; attr(,"newCache")
#&gt; [1] TRUE
#&gt; attr(,"call")
#&gt; [1] ""</div><div class='input'><span class='co'># manually look at output attribute which shows cacheId: ad184ce64541972b50afd8e7b75f821b</span>
<span class='fu'>Cache</span>(<span class='no'>rnorm</span>, <span class='fl'>1</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpdir1</span>, <span class='kw'>cacheId</span> <span class='kw'>=</span> <span class='st'>"ad184ce64541972b50afd8e7b75f821b"</span>) <span class='co'># same value</span></div><div class='output co'>#&gt; <span class='message'>cacheId is not same as calculated hash. Manually searching for cacheId:ad184ce64541972b50afd8e7b75f821b</span></div><div class='output co'>#&gt; [1] 0.1836433
#&gt; attr(,"tags")
#&gt; [1] "cacheId:ad184ce64541972b50afd8e7b75f821b"
#&gt; attr(,"newCache")
#&gt; [1] TRUE
#&gt; attr(,"call")
#&gt; [1] ""</div><div class='input'><span class='co'># override even with different inputs:</span>
<span class='fu'>Cache</span>(<span class='no'>rnorm</span>, <span class='fl'>2</span>, <span class='kw'>cacheRepo</span> <span class='kw'>=</span> <span class='no'>tmpdir1</span>, <span class='kw'>cacheId</span> <span class='kw'>=</span> <span class='st'>"ad184ce64541972b50afd8e7b75f821b"</span>)</div><div class='output co'>#&gt; <span class='message'>cacheId is not same as calculated hash. Manually searching for cacheId:ad184ce64541972b50afd8e7b75f821b</span></div><div class='output co'>#&gt; <span class='message'>  loading cached result from previous rnorm call, adding to memoised copy</span></div><div class='output co'>#&gt; [1] 0.1836433
#&gt; attr(,"tags")
#&gt; [1] "cacheId:ad184ce64541972b50afd8e7b75f821b"
#&gt; attr(,"newCache")
#&gt; [1] FALSE
#&gt; attr(,"call")
#&gt; [1] ""</div><div class='input'>
<span class='co'>## cleanup</span>
<span class='fu'>unlink</span>(<span class='fu'>c</span>(<span class='st'>"filename.rda"</span>, <span class='st'>"filename1.rda"</span>))
<span class='fu'>unlink</span>(<span class='fu'>dirname</span>(<span class='no'>tmpDir</span>), <span class='kw'>recursive</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># Equivalent</span>
<span class='no'>a</span> <span class='kw'>&lt;-</span> <span class='fu'>Cache</span>(<span class='no'>rnorm</span>, <span class='fl'>1</span>)</div><div class='output co'>#&gt; <span class='message'>No cacheRepo supplied. Using value in getOption('reproducible.cachePath')</span></div><div class='input'><span class='no'>b</span> <span class='kw'>%&lt;%</span> <span class='fu'>rnorm</span>(<span class='fl'>1</span>)</div><div class='output co'>#&gt; <span class='message'>No cacheRepo supplied. Using value in getOption('reproducible.cachePath')</span></div><div class='output co'>#&gt; <span class='message'>  loading cached result from previous FUN call, adding to memoised copy</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#nested-caching">Nested Caching</a></li>

      <li><a href="#caching-speed">Caching Speed</a></li>

      <li><a href="#filepaths">Filepaths</a></li>

      <li><a href="#stochasticity">Stochasticity</a></li>

      <li><a href="#sideeffect"><code>sideEffect</code></a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Eliot McIntire

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Eliot J B McIntire, Alex M Chubaty.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

