<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Post processing for <code>spatialObjects</code> — postProcess.spatialObjects • reproducible</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Post processing for <code>spatialObjects</code> — postProcess.spatialObjects" />

<meta property="og:description" content="The method for spatialObjects (Raster* and Spatial*) will
crop, reproject, and mask, in that order.  This function is a wrapper for
cropInputs, fixErrors, projectInputs,
maskInputs and
writeOutputs, with a decent amount of data manipulating
between these calls so that the crs match.
This function can be used to crop or reproject module inputs from raw data.
A simple wrapper around the various different tools for these GIS types.
This function can be used to mask module inputs from raw data.
If filename2 is logical, then the cropped/masked
raster will be written to disk with the original targetFile name, with
&quot;Small&quot; prefixed to the basename(targetFilename).
If a character string, it will be the path of the saved raster.
It will be tested whether it is an absolute or relative path and used as is
if absolute or prepended with destinationPath if relative.
Can be used to write prepared inputs on disk." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-58633549-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-58633549-5');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">reproducible</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/PredictiveEcology/reproducible">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Post processing for <code>spatialObjects</code></h1>
    <small class="dont-index">Source: <a href='https://github.com/PredictiveEcology/reproducible/blob/master/R/postProcess.R'><code>R/postProcess.R</code></a></small>
    <div class="hidden name"><code>postProcess.spatialObjects.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>The method for spatialObjects (<code>Raster*</code> and <code>Spatial*</code>) will
crop, reproject, and mask, in that order.  This function is a wrapper for
<code>cropInputs</code>, <code><a href='fixErrors.html'>fixErrors</a></code>, <code>projectInputs</code>,
<code>maskInputs</code> and
<code>writeOutputs</code>, with a decent amount of data manipulating
between these calls so that the crs match.</p>
<p>This function can be used to crop or reproject module inputs from raw data.</p>
<p>A simple wrapper around the various different tools for these GIS types.</p>
<p>This function can be used to mask module inputs from raw data.</p>
<p>If <code>filename2</code> is <code>logical</code>, then the cropped/masked
raster will be written to disk with the original <code>targetFile</code> name, with
<code>"Small"</code> prefixed to the basename(<code>targetFilename</code>).
If a character string, it will be the path of the saved raster.
It will be tested whether it is an absolute or relative path and used as is
if absolute or prepended with <code>destinationPath</code> if relative.</p>
<p>Can be used to write prepared inputs on disk.</p>
    
    </div>

    <pre class="usage"><span class='co'># S3 method for spatialObjects</span>
<span class='fu'><a href='postProcess.html'>postProcess</a></span>(<span class='no'>pp</span>, <span class='kw'>filename1</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>studyArea</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>rasterToMatch</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>useSAcrs</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>useCache</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"reproducible.useCache"</span>, <span class='fl'>FALSE</span>), <span class='no'>...</span>)

<span class='fu'>cropInputs</span>(<span class='no'>ci</span>, <span class='no'>studyArea</span>, <span class='no'>rasterToMatch</span>, <span class='no'>...</span>)

<span class='co'># S3 method for default</span>
<span class='fu'>cropInputs</span>(<span class='no'>ci</span>, <span class='no'>studyArea</span>, <span class='no'>rasterToMatch</span>, <span class='no'>...</span>)

<span class='co'># S3 method for spatialObjects</span>
<span class='fu'>cropInputs</span>(<span class='no'>ci</span>, <span class='no'>studyArea</span>, <span class='kw'>rasterToMatch</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>extentToMatch</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>extentCRS</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='fu'>projectInputs</span>(<span class='no'>pi</span>, <span class='no'>targetCRS</span>, <span class='no'>...</span>)

<span class='co'># S3 method for Raster</span>
<span class='fu'>projectInputs</span>(<span class='no'>pi</span>, <span class='kw'>targetCRS</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>rasterToMatch</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>...</span>)

<span class='co'># S3 method for sf</span>
<span class='fu'>projectInputs</span>(<span class='no'>pi</span>, <span class='no'>targetCRS</span>, <span class='no'>...</span>)

<span class='co'># S3 method for Spatial</span>
<span class='fu'>projectInputs</span>(<span class='no'>pi</span>, <span class='no'>targetCRS</span>, <span class='no'>...</span>)

<span class='fu'>maskInputs</span>(<span class='no'>mi</span>, <span class='no'>studyArea</span>, <span class='no'>...</span>)

<span class='co'># S3 method for Raster</span>
<span class='fu'>maskInputs</span>(<span class='no'>mi</span>, <span class='no'>studyArea</span>, <span class='no'>rasterToMatch</span>, <span class='kw'>maskWithRTM</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='no'>...</span>)

<span class='co'># S3 method for Spatial</span>
<span class='fu'>maskInputs</span>(<span class='no'>mi</span>, <span class='no'>studyArea</span>, <span class='no'>...</span>)

<span class='fu'>determineFilename</span>(<span class='kw'>filename2</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>filename1</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>destinationPath</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='fu'>writeOutputs</span>(<span class='no'>wo</span>, <span class='no'>filename2</span>, <span class='no'>overwrite</span>, <span class='no'>...</span>)

<span class='co'># S3 method for Raster</span>
<span class='fu'>writeOutputs</span>(<span class='no'>wo</span>, <span class='no'>filename2</span>, <span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for Spatial</span>
<span class='fu'>writeOutputs</span>(<span class='no'>wo</span>, <span class='no'>filename2</span>, <span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for sf</span>
<span class='fu'>writeOutputs</span>(<span class='no'>wo</span>, <span class='no'>filename2</span>, <span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for default</span>
<span class='fu'>writeOutputs</span>(<span class='no'>wo</span>, <span class='no'>filename2</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>pp</th>
      <td><p>A <code>Spatial*</code>, <code>sf</code>, or <code>Raster*</code> object.</p></td>
    </tr>
    <tr>
      <th>filename1</th>
      <td><p>Character string giving the file path of the <em>input</em> object,
if it has one. This is then used if <code>filename2</code> is
specified here as <code>TRUE</code> (the default, and passed to
<code>determineFilename</code>) to name the output file,
where the resulting post-processed filename will be
<code><a href='prefix.html'>.prefix(basename(filename1), "Small")</a></code>.
Mostly used by <code><a href='prepInputs.html'>prepInputs</a></code>, where <code>filename2</code>
is missing.</p></td>
    </tr>
    <tr>
      <th>studyArea</th>
      <td><p><code>SpatialPolygons*</code> object used for masking and possibly cropping
if no <code>rasterToMatch</code> is provided.
If not in same CRS, then it will be <code>spTransform</code>ed to
CRS of <code>ci</code> before masking. Currently, this function will not reproject the
<code>ci</code>. Optional in <code>postProcess</code>. <code>postProcess.spatialObjects</code></p></td>
    </tr>
    <tr>
      <th>rasterToMatch</th>
      <td><p>Template <code>Raster*</code> object used for cropping (so extent should be
the extent of desired outcome) and reprojecting (including changing the
resolution and projection).
See details in <code>postProcess.spatialObjects</code>.</p></td>
    </tr>
    <tr>
      <th>overwrite</th>
      <td><p>Logical. Should file being written overwrite an existing file if it
exists.</p></td>
    </tr>
    <tr>
      <th>useSAcrs</th>
      <td><p>Logical. If <code>FALSE</code>, the default, then the desired projection
will be taken from <code>rasterToMatch</code> or none at all.
If <code>TRUE</code>, it will be taken from <code>studyArea</code>.</p></td>
    </tr>
    <tr>
      <th>useCache</th>
      <td><p>Passed to Cache in various places. Default <code>FALSE</code></p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments passed to <code>cropInputs</code>,
           <code>projectInputs</code>, <code>maskInputs</code>,
           <code>determineFilename</code>, and <code>writeOutputs</code>.
           These then pass <code>...</code> into other functions, like
           <code><a href='http://www.rdocumentation.org/packages/raster/topics/writeRaster'>writeRaster</a></code>, or <code><a href='http://www.rdocumentation.org/packages/sf/topics/st_write'>sf::st_write</a></code>.
           This might include potentially important arguments like <code>datatype</code>,
           <code>format</code>. Also passed to <code>projectRaster</code>,
           with likely important arguments such as <code>method = "bilinear"</code>.
           See details.</p>
<h3>... passed to:</h3>

  <table class='table'>
<tr><td>Function</td><td>Arguments</td><td><code>cropInputs</code></td><td><code><a href='http://www.rdocumentation.org/packages/raster/topics/crop'>crop</a></code></td></tr>
<tr><td><code>projectInputs</code></td><td><code><a href='http://www.rdocumentation.org/packages/raster/topics/projectRaster'>projectRaster</a></code></td><td><code>maskInputs</code></td><td><code><a href='fastMask.html'>fastMask</a></code> or <code><a href='http://www.rdocumentation.org/packages/raster/topics/intersect'>intersect</a></code></td></tr>
<tr><td><code>fixErrors</code></td><td><code><a href='http://www.rdocumentation.org/packages/raster/topics/buffer'>buffer</a></code></td><td><code>writeOutputs</code></td><td><code><a href='http://www.rdocumentation.org/packages/raster/topics/writeRaster'>writeRaster</a></code> or <code><a href='http://www.rdocumentation.org/packages/raster/topics/shapefile'>shapefile</a></code></td></tr>
<tr><td><code>determineFilename</code></td><td></td><td></td><td>Function</td></tr>
</table>

  * Can be overridden with <code>useSAcrs</code>
  ** Will mask with <code>NA</code>s from <code>rasterToMatch</code> if <code>maskWithRTM</code>
</td>
    </tr>
    <tr>
      <th>ci</th>
      <td><p>A <code>Spatial*</code>, <code>sf</code>, or <code>Raster*</code> object.</p></td>
    </tr>
    <tr>
      <th>extentToMatch</th>
      <td><p>Optional. Can pass an extent here and a <code>crs</code> to
<code>extentCRS</code> instead of <code>rasterToMatch</code>. These
will override <code>rasterToMatch</code>, with a warning if both
passed.</p></td>
    </tr>
    <tr>
      <th>extentCRS</th>
      <td><p>Optional. Can pass a <code>crs</code> here with an extent to
<code>extentTomatch</code> instead of <code>rasterToMatch</code></p></td>
    </tr>
    <tr>
      <th>pi</th>
      <td><p>A <code>Raster*</code>, <code>Spatial*</code> or <code>sf</code> object</p></td>
    </tr>
    <tr>
      <th>targetCRS</th>
      <td><p>The CRS of pi at the end  of this function (i.e., the goal)</p></td>
    </tr>
    <tr>
      <th>mi</th>
      <td><p>A <code>Raster*</code> object</p></td>
    </tr>
    <tr>
      <th>maskWithRTM</th>
      <td><p>Logical. If <code>TRUE</code>, then the default,</p></td>
    </tr>
    <tr>
      <th>filename2</th>
      <td><p>Logical or character string (a file path) for the
output file, after post processing, if saving is desired. See details.</p></td>
    </tr>
    <tr>
      <th>destinationPath</th>
      <td><p>Optional. If <code>filename2</code> is a relative file path, then this
will be the directory of the resulting absolute file path.</p></td>
    </tr>
    <tr>
      <th>wo</th>
      <td><p>The object save to disk i.e., write outputs</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A file of the same type as starting, but with projection (and possibly other
characteristics, including resolution, origin, extent if changed.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>If <code>filename2</code> is <code>logical</code>, then the output
 filename will be <code>"Small"</code> prefixed to the basename(<code>filename1</code>).
 If a character string, it
 will be the path returned. It will be tested whether it is an
 absolute or relative path and used as is if absolute or prepended with
 <code>destinationPath</code> if provided, and if <code>filename2</code> is relative.</p>
    
    <h2 class="hasAnchor" id="post-processing-sequence"><a class="anchor" href="#post-processing-sequence"></a>Post processing sequence</h2>

    
    <p>If the <code>rasterToMatch</code> or <code>studyArea</code> are passed, then
  the following sequence will occur:</p>
<p></p><ol>
<li><p>Fix errors <code><a href='fixErrors.html'>fixErrors</a></code>. Currently only errors fixed are for
           <code>SpatialPolygons</code> using <code><a href='http://www.rdocumentation.org/packages/raster/topics/buffer'>buffer(..., width = 0)</a></code>.</p></li>
<li><p>Crop using <code>cropInputs</code></p></li>
<li><p>Project using <code>projectInputs</code></p></li>
<li><p>Mask using <code>maskInputs</code></p></li>
<li><p>Determine file name <code>determineFilename</code></p></li>
<li><p>Write that file name to disk, optionally <code>writeOutputs</code></p></li>
</ol>
    <p>NOTE: checksumming does not occur during the post-processing stage, as
  there are no file downloads. To achieve fast results, wrap
  <code>prepInputs</code> with <code>Cache</code></p>
<p>NOTE: <code>sf</code> objects are still very experimental.</p>
    
    <h2 class="hasAnchor" id="file-naming"><a class="anchor" href="#file-naming"></a>File naming</h2>

    
    <p>Post processing addresses several scenarios, and depending on which scenario,
  file names are subtly different. For example, <code>Raster</code> objects may have
  file-backed data, and so <em>possess a file name</em>, whereas <code>Spatial</code>
  objects do not. Similarly, there may or may not be a desire to write an
  object to disk after all post processing. This subtlety means that there are
  two file names that may be at play: the "input" file name (<code>filename1</code>),
  and the "output" filename (<code>filename2</code>).
  When this is used <em>only</em> with post process, it is straight forward.
  However, when <code>postProcess</code> is used within a <code>prepInputs</code> call,
  the <code>filename1</code> file is actually the file name of the downloaded file
  (i.e., what name to give to the downloaded  object) and the <code>filename2</code>
  is the file name of the of post-processed file.</p>
    
    <h2 class="hasAnchor" id="passing-rastertomatch-and-or-studyarea"><a class="anchor" href="#passing-rastertomatch-and-or-studyarea"></a>Passing <code>rasterToMatch</code> and/or <code>studyArea</code></h2>

    
    <p>Depending on which of these were passed, different things will happen to the
<code>targetFile</code> located at <code>filename1</code>.</p>
<h3>If <code>targetFile</code> is a <code>Raster*</code> object:</h3>
    <table class='table'>
<tr><td></td><td><code>rasterToMatch</code></td><td><code>studyArea</code></td><td>Both</td></tr>
<tr><td><code>extent</code></td><td>Yes</td><td>Yes</td><td><code>rasterToMatch</code></td></tr>
<tr><td><code>resolution</code></td><td>Yes</td><td>No</td><td><code>rasterToMatch</code></td></tr>
<tr><td><code>projection</code></td><td>Yes</td><td>No*</td><td><code>rasterToMatch</code>*</td></tr>
<tr><td><code>alignment</code></td><td>Yes</td><td>No</td><td><code>rasterToMatch</code></td></tr>
<tr><td><code>mask</code></td><td>No**</td><td>Yes</td><td><code>studyArea</code>**</td></tr>
<tr><td></td><td></td><td><code>rasterToMatch</code></td><td><code>studyArea</code></td></tr>
</table>
    * Can be overridden with <code>useSAcrs</code>
  ** Will mask with <code>NA</code>s from <code>rasterToMatch</code> if <code>maskWithRTM</code>
    <h3>If <code>targetFile</code> is a <code>Spatial*</code> object:</h3>
    <table class='table'>
<tr><td></td><td><code>rasterToMatch</code></td><td><code>studyArea</code></td><td>Both</td></tr>
<tr><td><code>extent</code></td><td>Yes</td><td>Yes</td><td><code>rasterToMatch</code></td></tr>
<tr><td><code>resolution</code></td><td>NA</td><td>NA</td><td>NA</td></tr>
<tr><td><code>projection</code></td><td>Yes</td><td>No*</td><td><code>rasterToMatch</code>*</td></tr>
<tr><td><code>alignment</code></td><td>NA</td><td>NA</td><td>NA</td></tr>
<tr><td><code>mask</code></td><td>No</td><td>Yes</td><td><code>studyArea</code></td></tr>
<tr><td></td><td></td><td><code>rasterToMatch</code></td><td><code>studyArea</code></td></tr>
</table>
    * Can be overridden with <code>useSAcrs</code>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># download a zip file from internet, unzip all files, load as shapefile, Cache the call</span>
<span class='no'>dPath</span> <span class='kw'>&lt;-</span> <span class='fu'>file.path</span>(<span class='fu'>tempdir</span>(), <span class='st'>"ecozones"</span>)
<span class='no'>shpEcozone</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='prepInputs.html'>prepInputs</a></span>(<span class='kw'>destinationPath</span> <span class='kw'>=</span> <span class='no'>dPath</span>,
                         <span class='kw'>url</span> <span class='kw'>=</span> <span class='st'>"http://sis.agr.gc.ca/cansis/nsdb/ecostrat/zone/ecozone_shp.zip"</span>)</div><div class='output co'>#&gt; <span class='message'>Preparing: </span></div><div class='output co'>#&gt; <span class='message'>  Downloading http://sis.agr.gc.ca/cansis/nsdb/ecostrat/zone/ecozone_shp.zip ...</span></div><div class='output co'>#&gt;   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |===                                                                   |   5%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |=====                                                                 |   8%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |=======                                                               |  11%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |=========                                                             |  14%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  16%  |                                                                              |============                                                          |  17%  |                                                                              |============                                                          |  18%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |================                                                      |  23%  |                                                                              |=================                                                     |  24%  |                                                                              |=================                                                     |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |======================                                                |  31%  |                                                                              |=======================                                               |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |=======================                                               |  34%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |==========================                                            |  38%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  39%  |                                                                              |============================                                          |  40%  |                                                                              |============================                                          |  41%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |==============================                                        |  44%  |                                                                              |===============================                                       |  44%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |=================================                                     |  48%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |===================================                                   |  51%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |=====================================                                 |  54%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  56%  |                                                                              |========================================                              |  57%  |                                                                              |========================================                              |  58%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |==========================================                            |  61%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  62%  |                                                                              |============================================                          |  63%  |                                                                              |============================================                          |  64%  |                                                                              |=============================================                         |  64%  |                                                                              |=============================================                         |  65%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |===============================================                       |  68%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |=================================================                     |  71%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  76%  |                                                                              |======================================================                |  77%  |                                                                              |======================================================                |  78%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  79%  |                                                                              |========================================================              |  80%  |                                                                              |========================================================              |  81%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |==========================================================            |  84%  |                                                                              |===========================================================           |  84%  |                                                                              |===========================================================           |  85%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |===============================================================       |  91%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |=================================================================     |  94%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |====================================================================  |  98%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================|  99%  |                                                                              |======================================================================| 100%</div><div class='output co'>#&gt; <span class='message'>From:ecozone_shp.zip  Extracting all files: ecozones.dbf, ecozones.prj, ecozones.sbn, ecozones.sbx, ecozones.shp, ecozones.shx</span></div><div class='output co'>#&gt; <span class='message'>  targetFile was not specified.  Trying raster::shapefile on ecozones.shp. If that is not correct, please specify different targetFile and/or fun.</span></div><div class='output co'>#&gt; <span class='message'>  Trying ecozones.shp with raster::shapefile.</span></div><div class='output co'>#&gt; <span class='message'>No cacheRepo supplied. Using value in getOption('reproducible.cachePath')</span></div><div class='output co'>#&gt; <span class='message'>No cacheRepo supplied. Using value in getOption('reproducible.cachePath')</span></div><div class='output co'>#&gt; <span class='message'>Appending checksums to CHECKSUMS.txt. If you see this message repeatedly,</span>
#&gt; <span class='message'>  you can specify targetFile (and optionally alsoExtract) so it knows</span>
#&gt; <span class='message'>  what to look for.</span></div><div class='output co'>#&gt; <span class='message'>Checking local files...</span></div><div class='output co'>#&gt; <span class='message'>Finished checking local files.</span></div><div class='input'>

<span class='co'>#' # Add a study area to Crop and Mask to</span>
<span class='co'># Create a "study area"</span>
<span class='fu'>library</span>(<span class='no'>sp</span>)
<span class='fu'>library</span>(<span class='no'>raster</span>)
<span class='no'>coords</span> <span class='kw'>&lt;-</span> <span class='fu'>structure</span>(<span class='fu'>c</span>(-<span class='fl'>122.98</span>, -<span class='fl'>116.1</span>, -<span class='fl'>99.2</span>, -<span class='fl'>106</span>, -<span class='fl'>122.98</span>, <span class='fl'>59.9</span>, <span class='fl'>65.73</span>, <span class='fl'>63.58</span>, <span class='fl'>54.79</span>, <span class='fl'>59.9</span>),
                    <span class='kw'>.Dim</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>5L</span>, <span class='fl'>2L</span>))
<span class='no'>Sr1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/sp/topics/SpatialPolygons'>Polygon</a></span>(<span class='no'>coords</span>)
<span class='no'>Srs1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/sp/topics/SpatialPolygons'>Polygons</a></span>(<span class='fu'>list</span>(<span class='no'>Sr1</span>), <span class='st'>"s1"</span>)
<span class='no'>StudyArea</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/sp/topics/SpatialPolygons'>SpatialPolygons</a></span>(<span class='fu'>list</span>(<span class='no'>Srs1</span>), <span class='fl'>1L</span>)
<span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/projection'>crs</a></span>(<span class='no'>StudyArea</span>) <span class='kw'>&lt;-</span> <span class='st'>"+init=epsg:4326 +proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"</span>


<span class='co'>##########</span>
<span class='no'>shpEcozonePostProcessed</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='postProcess.html'>postProcess</a></span>(<span class='no'>shpEcozone</span>, <span class='kw'>studyArea</span> <span class='kw'>=</span> <span class='no'>StudyArea</span>)</div><div class='output co'>#&gt; <span class='message'>No cacheRepo supplied. Using value in getOption('reproducible.cachePath')</span></div><div class='output co'>#&gt; <span class='message'>    cropping ...</span></div><div class='output co'>#&gt; <span class='message'>Checking for errors in SpatialPolygon</span></div><div class='output co'>#&gt; <span class='message'>  Found no errors.</span></div><div class='output co'>#&gt; <span class='message'>No cacheRepo supplied. Using value in getOption('reproducible.cachePath')</span></div><div class='output co'>#&gt; <span class='message'>No cacheRepo supplied. Using value in getOption('reproducible.cachePath')</span></div><div class='output co'>#&gt; <span class='message'>    intersecting ...</span></div><div class='output co'>#&gt; <span class='message'>Checking for errors in studyArea</span></div><div class='output co'>#&gt; <span class='message'>  Found no errors.</span></div><div class='output co'>#&gt; <span class='message'>Please provide filename2; will use: file4ca94063576a</span></div><div class='input'>
<span class='co'># Try manually, individual pieces</span>
<span class='no'>shpEcozoneCropped</span> <span class='kw'>&lt;-</span> <span class='fu'>cropInputs</span>(<span class='no'>shpEcozone</span>, <span class='no'>StudyArea</span>)</div><div class='output co'>#&gt; <span class='message'>    cropping ...</span></div><div class='input'><span class='no'>shpEcozoneClean</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='fixErrors.html'>fixErrors</a></span>(<span class='no'>shpEcozone</span>)</div><div class='output co'>#&gt; <span class='message'>Checking for errors in SpatialPolygon</span></div><div class='output co'>#&gt; <span class='message'>  Found no errors.</span></div><div class='input'><span class='no'>shpEcozoneMasked</span> <span class='kw'>&lt;-</span> <span class='fu'>maskInputs</span>(<span class='no'>shpEcozone</span>, <span class='no'>StudyArea</span>)</div><div class='output co'>#&gt; <span class='message'>    intersecting ...</span></div><div class='output co'>#&gt; <span class='message'>Checking for errors in studyArea</span></div><div class='output co'>#&gt; <span class='message'>  Found no errors.</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#post-processing-sequence">Post processing sequence</a></li>

      <li><a href="#file-naming">File naming</a></li>

      <li><a href="#passing-rastertomatch-and-or-studyarea">Passing <code>rasterToMatch</code> and/or <code>studyArea</code></a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Eliot McIntire

Jean Marchal

Eliot McIntire

Jean Marchal

Eliot McIntire

Jean Marchal

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Eliot J B McIntire, Alex M Chubaty.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

